(()=>{var t={7928:t=>{"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},r={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},o=function(t,n){return e({},t,n)};t.exports=function(t){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.preserveFormatting,s=void 0!==a&&a,u=i.escapeMapFn,c=void 0===u?o:u,p=String(t),f="",h=c(e({},n),s?e({},r):{}),l=Object.keys(h),m=function(){var t=!1;l.forEach((function(e,n){t||p.length>=e.length&&p.slice(0,e.length)===e&&(f+=h[l[n]],p=p.slice(e.length,p.length),t=!0)})),t||(f+=p.slice(0,1),p=p.slice(1,p.length))};p;)m();return f}},7886:(t,e,n)=>{var r=n(9916).create();r.import(n(1450)),r.import(n(4716)),r.import(n(1525)),r.import(n(4701)),r.import({add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e},mod:function(t,e){return t%e},unaryPlus:function(t){return t},unaryMinus:function(t){return-t},bitOr:function(t,e){return t|e},bitXor:function(t,e){return t^e},bitAnd:function(t,e){return t&e},bitNot:function(t){return~t},leftShift:function(t,e){return t<<e},rightArithShift:function(t,e){return t>>e},rightLogShift:function(t,e){return t>>>e},or:function(t,e){return!(!t&&!e)},xor:function(t,e){return!!t!=!!e},and:function(t,e){return!(!t||!e)},not:function(t){return!t},equal:function(t,e){return t==e},unequal:function(t,e){return t!=e},smaller:function(t,e){return t<e},larger:function(t,e){return t>e},smallerEq:function(t,e){return t<=e},largerEq:function(t,e){return t>=e},matrix:function(){throw new Error("Matrices not supported")},index:function(){throw new Error("Matrix indexes not supported")},pi:Math.PI,e:Math.E,true:!0,false:!1,null:null});var o={};Object.getOwnPropertyNames(Math).forEach((function(t){Object.prototype.hasOwnProperty(t)||(o[t]=Math[t])})),r.import(o),t.exports=r},9916:(t,e,n)=>{t.exports=n(311)},311:(t,e,n)=>{"use strict";n(7237);var r=n(229).isFactory,o=n(6768),i=n(9084),a=n(5922),s=n(2845);e.create=function(t){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var e=[],n=[],u=i.mixin({});u.type={},u.expression={transform:{},mathWithTransform:{}},u.typed=o.create(u.type);var c={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function p(t){if(!r(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var o,i=e.indexOf(t);return-1===i?(o=!0===t.math?t.factory(u.type,c,p,u.typed,u):t.factory(u.type,c,p,u.typed),e.push(t),n.push(o)):o=n[i],o}return u.import=p(a),u.config=p(s),u.expression.mathWithTransform.config=u.config,t&&u.config(t),u}},2845:(t,e,n)=>{"use strict";var r=n(229);function o(t,e,n){if(void 0!==t[e]&&(o=n,i=t[e],-1===o.indexOf(i))){var r=function(t,e){return t.map((function(t){return t.toLowerCase()})).indexOf(e.toLowerCase())}(n,t[e]);-1!==r?(console.warn('Warning: Wrong casing for configuration option "'+e+'", should be "'+n[r]+'" instead of "'+t[e]+'".'),t[e]=n[r]):console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+n.map(JSON.stringify).join(", ")+".")}var o,i}e.name="config",e.math=!0,e.factory=function(t,e,n,i,a){var s=["Matrix","Array"],u=["number","BigNumber","Fraction"];function c(t){if(t){var n=r.map(e,r.clone);o(t,"matrix",s),o(t,"number",u),r.deepExtend(e,t);var i=r.map(e,r.clone),c=r.map(t,r.clone);return a.emit("config",i,n,c),i}return r.map(e,r.clone)}return c.MATRIX=s,c.NUMBER=u,c}},5922:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=n(229).lazy,i=n(229).isFactory,a=n(229).traverse,s=n(6732);e.math=!0,e.name="import",e.factory=function(t,e,n,u,c){function p(t,e,n){if(n.wrap&&"function"==typeof e&&(o=function(){for(var t=[],e=0,n=arguments.length;e<n;e++){var o=arguments[e];t[e]=o&&o.valueOf()}return r.apply(c,t)},(r=e).transform&&(o.transform=r.transform),e=o),d(c[t])&&d(e))return e=n.override?u(t,e.signatures):u(c[t],e),c[t]=e,f(t,e),void c.emit("import",t,(function(){return e}));var r,o;if(void 0===c[t]||n.override)return c[t]=e,f(t,e),void c.emit("import",t,(function(){return e}));if(!n.silent)throw new Error('Cannot import "'+t+'": already exists')}function f(t,e){e&&"function"==typeof e.transform?(c.expression.transform[t]=e.transform,y(t)&&(c.expression.mathWithTransform[t]=e.transform)):(delete c.expression.transform[t],y(t)&&(c.expression.mathWithTransform[t]=e))}function h(t){delete c.expression.transform[t],y(t)?c.expression.mathWithTransform[t]=c[t]:delete c.expression.mathWithTransform[t]}function l(t,e){if("string"==typeof t.name){var r=t.name,i=r in c.expression.transform,s=t.path?a(c,t.path):c,p=s.hasOwnProperty(r)?s[r]:void 0,f=function(){var o=n(t);if(o&&"function"==typeof o.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(d(p)&&d(o))return e.override||(o=u(p,o)),o;if(void 0===p||e.override)return o;if(!e.silent)throw new Error('Cannot import "'+r+'": already exists')};!1!==t.lazy?(o(s,r,f),i?h(r):("expression.transform"===t.path||g(t))&&o(c.expression.mathWithTransform,r,f)):(s[r]=f(),i?h(r):("expression.transform"===t.path||g(t))&&(c.expression.mathWithTransform[r]=f())),c.emit("import",r,f,t.path)}else n(t)}function m(e){return"function"==typeof e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e||null===e||e&&t.isUnit(e)||e&&t.isComplex(e)||e&&t.isBigNumber(e)||e&&t.isFraction(e)||e&&t.isMatrix(e)||e&&Array.isArray(e)}function d(t){return"function"==typeof t&&"object"===r(t.signatures)}function y(t){return!v.hasOwnProperty(t)}function g(t){return void 0===t.path&&!v.hasOwnProperty(t.name)}var v={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function t(e,n){var o=arguments.length;if(1!==o&&2!==o)throw new s("import",o,1,2);if(n||(n={}),i(e))l(e,n);else if(Array.isArray(e))e.forEach((function(e){t(e,n)}));else if("object"===r(e)){for(var a in e)if(e.hasOwnProperty(a)){var u=e[a];m(u)?p(a,u,n):i(e)?l(e,n):t(u,n)}}else if(!n.silent)throw new TypeError("Factory, Object, or Array expected")}},e.lazy=!0},6768:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=n(2287),i=n(1523).digits,a=n(6846),s=n(8885),u=function(){return u=o.create,o};e.create=function(t){t.isNumber=function(t){return"number"==typeof t},t.isComplex=function(e){return t.Complex&&e instanceof t.Complex||!1},t.isBigNumber=a,t.isFraction=function(e){return t.Fraction&&e instanceof t.Fraction||!1},t.isUnit=function(t){return t&&t.constructor.prototype.isUnit||!1},t.isString=function(t){return"string"==typeof t},t.isArray=Array.isArray,t.isMatrix=s,t.isDenseMatrix=function(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix||!1},t.isSparseMatrix=function(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix||!1},t.isRange=function(t){return t&&t.constructor.prototype.isRange||!1},t.isIndex=function(t){return t&&t.constructor.prototype.isIndex||!1},t.isBoolean=function(t){return"boolean"==typeof t},t.isResultSet=function(t){return t&&t.constructor.prototype.isResultSet||!1},t.isHelp=function(t){return t&&t.constructor.prototype.isHelp||!1},t.isFunction=function(t){return"function"==typeof t},t.isDate=function(t){return t instanceof Date},t.isRegExp=function(t){return t instanceof RegExp},t.isObject=function(e){return"object"===r(e)&&e.constructor===Object&&!t.isComplex(e)&&!t.isFraction(e)},t.isNull=function(t){return null===t},t.isUndefined=function(t){return void 0===t},t.isAccessorNode=function(t){return t&&t.isAccessorNode&&t.constructor.prototype.isNode||!1},t.isArrayNode=function(t){return t&&t.isArrayNode&&t.constructor.prototype.isNode||!1},t.isAssignmentNode=function(t){return t&&t.isAssignmentNode&&t.constructor.prototype.isNode||!1},t.isBlockNode=function(t){return t&&t.isBlockNode&&t.constructor.prototype.isNode||!1},t.isConditionalNode=function(t){return t&&t.isConditionalNode&&t.constructor.prototype.isNode||!1},t.isConstantNode=function(t){return t&&t.isConstantNode&&t.constructor.prototype.isNode||!1},t.isFunctionAssignmentNode=function(t){return t&&t.isFunctionAssignmentNode&&t.constructor.prototype.isNode||!1},t.isFunctionNode=function(t){return t&&t.isFunctionNode&&t.constructor.prototype.isNode||!1},t.isIndexNode=function(t){return t&&t.isIndexNode&&t.constructor.prototype.isNode||!1},t.isNode=function(t){return t&&t.isNode&&t.constructor.prototype.isNode||!1},t.isObjectNode=function(t){return t&&t.isObjectNode&&t.constructor.prototype.isNode||!1},t.isOperatorNode=function(t){return t&&t.isOperatorNode&&t.constructor.prototype.isNode||!1},t.isParenthesisNode=function(t){return t&&t.isParenthesisNode&&t.constructor.prototype.isNode||!1},t.isRangeNode=function(t){return t&&t.isRangeNode&&t.constructor.prototype.isNode||!1},t.isSymbolNode=function(t){return t&&t.isSymbolNode&&t.constructor.prototype.isNode||!1},t.isChain=function(t){return t&&t.constructor.prototype.isChain||!1};var e=u();return e.types=[{name:"number",test:t.isNumber},{name:"Complex",test:t.isComplex},{name:"BigNumber",test:t.isBigNumber},{name:"Fraction",test:t.isFraction},{name:"Unit",test:t.isUnit},{name:"string",test:t.isString},{name:"Array",test:t.isArray},{name:"Matrix",test:t.isMatrix},{name:"DenseMatrix",test:t.isDenseMatrix},{name:"SparseMatrix",test:t.isSparseMatrix},{name:"Range",test:t.isRange},{name:"Index",test:t.isIndex},{name:"boolean",test:t.isBoolean},{name:"ResultSet",test:t.isResultSet},{name:"Help",test:t.isHelp},{name:"function",test:t.isFunction},{name:"Date",test:t.isDate},{name:"RegExp",test:t.isRegExp},{name:"null",test:t.isNull},{name:"undefined",test:t.isUndefined},{name:"OperatorNode",test:t.isOperatorNode},{name:"ConstantNode",test:t.isConstantNode},{name:"SymbolNode",test:t.isSymbolNode},{name:"ParenthesisNode",test:t.isParenthesisNode},{name:"FunctionNode",test:t.isFunctionNode},{name:"FunctionAssignmentNode",test:t.isFunctionAssignmentNode},{name:"ArrayNode",test:t.isArrayNode},{name:"AssignmentNode",test:t.isAssignmentNode},{name:"BlockNode",test:t.isBlockNode},{name:"ConditionalNode",test:t.isConditionalNode},{name:"IndexNode",test:t.isIndexNode},{name:"RangeNode",test:t.isRangeNode},{name:"Node",test:t.isNode},{name:"Object",test:t.isObject}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new t.Complex(e,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(new t.Fraction(e).valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(e)}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(e){try{return new t.BigNumber(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){try{return new t.Fraction(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){try{return new t.Complex(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(e){return new t.BigNumber(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return new t.Fraction(+e)}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"Array",to:"Matrix",convert:function(e){return new t.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],e}},6732:t=>{"use strict";function e(t,n,r,o){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=n,this.min=r,this.max=o,this.message="Wrong number of arguments in function "+t+" ("+n+" provided, "+r+(null!=o?"-"+o:"")+" expected)",this.stack=(new Error).stack}e.prototype=new Error,e.prototype.constructor=Error,e.prototype.name="ArgumentsError",e.prototype.isArgumentsError=!0,t.exports=e},4961:t=>{"use strict";function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=n,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(n)?"["+n.join(", ")+"]":n)+")",this.stack=(new Error).stack}e.prototype=new RangeError,e.prototype.constructor=RangeError,e.prototype.name="DimensionError",e.prototype.isDimensionError=!0,t.exports=e},7677:t=>{"use strict";function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=n):(this.min=n,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}e.prototype=new RangeError,e.prototype.constructor=RangeError,e.prototype.name="IndexError",e.prototype.isIndexError=!0,t.exports=e},4716:(t,e,n)=>{"use strict";var r=n(5309);e.name="compile",e.factory=function(t,e,o,i){var a=o(n(6014));return i("compile",{string:function(t){return a(t).compile()},"Array | Matrix":function(t){return r(t,(function(t){return a(t).compile()}))}})}},1525:(t,e,n)=>{"use strict";var r=n(5309);e.name="eval",e.factory=function(t,e,o,i){var a=o(n(6014));return i("compile",{string:function(t){return a(t).compile().eval({})},"string, Object":function(t,e){return a(t).compile().eval(e)},"Array | Matrix":function(t){var e={};return r(t,(function(t){return a(t).compile().eval(e)}))},"Array | Matrix, Object":function(t,e){return r(t,(function(t){return a(t).compile().eval(e)}))}})}},1450:(t,e,n)=>{"use strict";e.name="parse",e.factory=function(t,e,r,o){var i=r(n(6014));return o("parse",{"string | Array | Matrix":i,"string | Array | Matrix, Object":i})}},7844:t=>{"use strict";t.exports={end:!0}},6189:(t,e,n)=>{"use strict";var r=n(8735).YF;e.name="AccessorNode",e.path="expression.node",e.factory=function(t,e,o,i){var a=o(n(1649)),s=o(n(8839));function u(e,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError('Node expected for parameter "object"');if(!t.isIndexNode(n))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=n,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function c(e){return!(t.isAccessorNode(e)||t.isArrayNode(e)||t.isConstantNode(e)||t.isFunctionNode(e)||t.isObjectNode(e)||t.isParenthesisNode(e)||t.isSymbolNode(e))}return u.prototype=new a,u.prototype.type="AccessorNode",u.prototype.isAccessorNode=!0,u.prototype._compile=function(t,e){var n=this.object._compile(t,e),o=this.index._compile(t,e);if(this.index.isObjectProperty()){var i=this.index.getObjectProperty();return function(t,e,o){return r(n(t,e,o),i)}}return function(t,e,r){var i=n(t,e,r),a=o(t,e,i);return s(i,a)}},u.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this)},u.prototype.map=function(t){return new u(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},u.prototype.clone=function(){return new u(this.object,this.index)},u.prototype._toString=function(t){var e=this.object.toString(t);return c(this.object)&&(e="("+e+")"),e+this.index.toString(t)},u.prototype.toHTML=function(t){var e=this.object.toHTML(t);return c(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)},u.prototype._toTex=function(t){var e=this.object.toTex(t);return c(this.object)&&(e="\\left(' + object + '\\right)"),e+this.index.toTex(t)},u.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},u.fromJSON=function(t){return new u(t.object,t.index)},u}},7448:(t,e,n)=>{"use strict";var r=n(9049).UI;e.name="ArrayNode",e.path="expression.node",e.factory=function(t,e,o,i){var a=o(n(1649));function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(t.isNode))throw new TypeError("Array containing Nodes expected");var n=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:n,set:n})}return s.prototype=new a,s.prototype.type="ArrayNode",s.prototype.isArrayNode=!0,s.prototype._compile=function(t,e){var n=r(this.items,(function(n){return n._compile(t,e)}));if("Array"!==t.config().matrix){var o=t.matrix;return function(t,e,i){return o(r(n,(function(n){return n(t,e,i)})))}}return function(t,e,o){return r(n,(function(n){return n(t,e,o)}))}},s.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++)t(this.items[e],"items["+e+"]",this)},s.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new s(e)},s.prototype.clone=function(){return new s(this.items.slice(0))},s.prototype._toString=function(t){return"["+this.items.map((function(e){return e.toString(t)})).join(", ")+"]"},s.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},s.fromJSON=function(t){return new s(t.items)},s.prototype.toHTML=function(t){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(e){return e.toHTML(t)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},s.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach((function(n){n.items?e+=n.items.map((function(e){return e.toTex(t)})).join("&"):e+=n.toTex(t),e+="\\\\"})),e+="\\end{bmatrix}"},s}},7890:(t,e,n)=>{"use strict";var r=n(8735).YF,o=n(8735).nI;e.name="AssignmentNode",e.path="expression.node",e.factory=function(t,e,i,a){var s=i(n(1649)),u=i(n(3452)),c=i(n(8839)),p=n(6107);function f(e,n,r){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=r?n:null,this.value=r||n,!t.isSymbolNode(e)&&!t.isAccessorNode(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(t.isSymbolNode(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!t.isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!t.isNode(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function h(t,e){e||(e="keep");var n=p.getPrecedence(t,e),r=p.getPrecedence(t.value,e);return"all"===e||null!==r&&r<=n}return f.prototype=new s,f.prototype.type="AssignmentNode",f.prototype.isAssignmentNode=!0,f.prototype._compile=function(e,n){var i=this.object._compile(e,n),a=this.index?this.index._compile(e,n):null,s=this.value._compile(e,n),p=this.object.name;if(this.index){if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(t,e,n){var r=i(t,e,n),a=s(t,e,n);return o(r,f,a)}}if(t.isSymbolNode(this.object))return function(t,e,n){var r=i(t,e,n),c=s(t,e,n),f=a(t,e,r);return o(t,p,u(r,f,c)),c};var h=this.object.object._compile(e,n);if(this.object.index.isObjectProperty()){var l=this.object.index.getObjectProperty();return function(t,e,n){var i=h(t,e,n),c=r(i,l),p=a(t,e,c),f=s(t,e,n);return o(i,l,u(c,p,f)),f}}var m=this.object.index._compile(e,n);return function(t,e,n){var r=h(t,e,n),o=m(t,e,r),i=c(r,o),p=a(t,e,i),f=s(t,e,n);return u(r,o,u(i,p,f)),f}}if(!t.isSymbolNode(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,n){return o(t,p,s(t,e,n))}},f.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this)},f.prototype.map=function(t){return new f(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},f.prototype.clone=function(){return new f(this.object,this.index,this.value)},f.prototype._toString=function(t){var e=this.object.toString(t),n=this.index?this.index.toString(t):"",r=this.value.toString(t);return h(this,t&&t.parenthesis)&&(r="("+r+")"),e+n+" = "+r},f.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},f.fromJSON=function(t){return new f(t.object,t.index,t.value)},f.prototype.toHTML=function(t){var e=this.object.toHTML(t),n=this.index?this.index.toHTML(t):"",r=this.value.toHTML(t);return h(this,t&&t.parenthesis)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r},f.prototype._toTex=function(t){var e=this.object.toTex(t),n=this.index?this.index.toTex(t):"",r=this.value.toTex(t);return h(this,t&&t.parenthesis)&&(r="\\left(".concat(r,"\\right)")),e+n+":="+r},f}},761:(t,e,n)=>{"use strict";var r=n(9049).Ed,o=n(9049).UI;e.name="BlockNode",e.path="expression.node",e.factory=function(t,e,i,a){var s=i(n(1649)),u=i(n(1825));function c(e){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map((function(e){var n=e&&e.node,r=!e||void 0===e.visible||e.visible;if(!t.isNode(n))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return{node:n,visible:r}}))}return c.prototype=new s,c.prototype.type="BlockNode",c.prototype.isBlockNode=!0,c.prototype._compile=function(t,e){var n=o(this.blocks,(function(n){return{eval:n.node._compile(t,e),visible:n.visible}}));return function(t,e,o){var i=[];return r(n,(function(n){var r=n.eval(t,e,o);n.visible&&i.push(r)})),new u(i)}},c.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this)},c.prototype.map=function(t){for(var e=[],n=0;n<this.blocks.length;n++){var r=this.blocks[n],o=this._ifNode(t(r.node,"blocks["+n+"].node",this));e[n]={node:o,visible:r.visible}}return new c(e)},c.prototype.clone=function(){return new c(this.blocks.map((function(t){return{node:t.node,visible:t.visible}})))},c.prototype._toString=function(t){return this.blocks.map((function(e){return e.node.toString(t)+(e.visible?"":";")})).join("\n")},c.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},c.fromJSON=function(t){return new c(t.blocks)},c.prototype.toHTML=function(t){return this.blocks.map((function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},c.prototype._toTex=function(t){return this.blocks.map((function(e){return e.node.toTex(t)+(e.visible?"":";")})).join("\\;\\;\n")},c}},9862:(t,e,n)=>{"use strict";var r=n(6107);e.name="ConditionalNode",e.path="expression.node",e.factory=function(t,e,o,i){var a=o(n(1649)),s=o(n(7082));function u(e,n,r){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError("Parameter condition must be a Node");if(!t.isNode(n))throw new TypeError("Parameter trueExpr must be a Node");if(!t.isNode(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=n,this.falseExpr=r}return u.prototype=new a,u.prototype.type="ConditionalNode",u.prototype.isConditionalNode=!0,u.prototype._compile=function(e,n){var r=this.condition._compile(e,n),o=this.trueExpr._compile(e,n),i=this.falseExpr._compile(e,n);return function(e,n,a){return function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(t.isBigNumber(e))return!e.isZero();if(t.isComplex(e))return!(!e.re&&!e.im);if(t.isUnit(e))return!!e.value}if(null==e)return!1;throw new TypeError('Unsupported type of condition "'+s(e)+'"')}(r(e,n,a))?o(e,n,a):i(e,n,a)}},u.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)},u.prototype.map=function(t){return new u(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},u.prototype.clone=function(){return new u(this.condition,this.trueExpr,this.falseExpr)},u.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=r.getPrecedence(this,e),o=this.condition.toString(t),i=r.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(o="("+o+")");var a=this.trueExpr.toString(t),s=r.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==s&&s<=n)&&(a="("+a+")");var u=this.falseExpr.toString(t),c=r.getPrecedence(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==c&&c<=n)&&(u="("+u+")"),o+" ? "+a+" : "+u},u.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},u.fromJSON=function(t){return new u(t.condition,t.trueExpr,t.falseExpr)},u.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=r.getPrecedence(this,e),o=this.condition.toHTML(t),i=r.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.trueExpr.toHTML(t),s=r.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==s&&s<=n)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.falseExpr.toHTML(t),c=r.getPrecedence(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==c&&c<=n)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o+'<span class="math-operator math-conditional-operator">?</span>'+a+'<span class="math-operator math-conditional-operator">:</span>'+u},u.prototype._toTex=function(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},u}},2347:(t,e,n)=>{"use strict";var r=n(6214).format,o=n(7917).escape;e.name="ConstantNode",e.path="expression.node",e.factory=function(t,e,i,a){var s=i(n(1649)),u=i(n(7082));function c(t){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(2===arguments.length)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=t}return c.prototype=new s,c.prototype.type="ConstantNode",c.prototype.isConstantNode=!0,c.prototype._compile=function(t,e){var n=this.value;return function(){return n}},c.prototype.forEach=function(t){},c.prototype.map=function(t){return this.clone()},c.prototype.clone=function(){return new c(this.value)},c.prototype._toString=function(t){return r(this.value,t)},c.prototype.toHTML=function(t){var e=this._toString(t);switch(u(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+e+"</span>";case"string":return'<span class="math-string">'+e+"</span>";case"boolean":return'<span class="math-boolean">'+e+"</span>";case"null":return'<span class="math-null-symbol">'+e+"</span>";case"undefined":return'<span class="math-undefined">'+e+"</span>";default:return'<span class="math-symbol">'+e+"</span>"}},c.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},c.fromJSON=function(t){return new c(t.value)},c.prototype._toTex=function(t){var e=this._toString(t);switch(u(this.value)){case"string":return"\\mathtt{"+o(e)+"}";case"number":case"BigNumber":var n=e.toLowerCase().indexOf("e");return-1!==n?e.substring(0,n)+"\\cdot10^{"+e.substring(n+1)+"}":e;case"Fraction":return this.value.toLatex();default:return e}},c}},9885:(t,e,n)=>{"use strict";var r=n(7844),o=n(6214).escape,i=n(9049).Ed,a=n(9049).v_,s=n(7917),u=n(6107),c=n(8735).nI;e.name="FunctionAssignmentNode",e.path="expression.node",e.factory=function(t,e,p,f){var h=p(n(1649));function l(e,n,o){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(n))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!t.isNode(o))throw new TypeError('Node expected for parameter "expr"');if(e in r)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=n.map((function(t){return t&&t.name||t})),this.types=n.map((function(t){return t&&t.type||"any"})),this.expr=o}function m(t,e){var n=u.getPrecedence(t,e),r=u.getPrecedence(t.expr,e);return"all"===e||null!==r&&r<=n}return l.prototype=new h,l.prototype.type="FunctionAssignmentNode",l.prototype.isFunctionAssignmentNode=!0,l.prototype._compile=function(t,e){var n=Object.create(e);i(this.params,(function(t){n[t]=!0}));var r=this.expr._compile(t,n),o=this.name,s=this.params,u=a(this.types,","),p=o+"("+a(this.params,", ")+")";return function(t,e,n){var i={};i[u]=function(){for(var o=Object.create(e),i=0;i<s.length;i++)o[s[i]]=arguments[i];return r(t,o,n)};var a=f(o,i);return a.syntax=p,c(t,o,a),a}},l.prototype.forEach=function(t){t(this.expr,"expr",this)},l.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new l(this.name,this.params.slice(0),e)},l.prototype.clone=function(){return new l(this.name,this.params.slice(0),this.expr)},l.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toString(t);return m(this,e)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},l.prototype.toJSON=function(){var t=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(e,n){return{name:e,type:t[n]}})),expr:this.expr}},l.fromJSON=function(t){return new l(t.name,t.params,t.expr)},l.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=[],r=0;r<this.params.length;r++)n.push('<span class="math-symbol math-parameter">'+o(this.params[r])+"</span>");var i=this.expr.toHTML(t);return m(this,e)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+o(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i},l.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toTex(t);return m(this,e)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(s.toSymbol).join(",")+"\\right):="+n},l}},1272:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}var i=n(7917),a=n(6214).escape,s=n(229).hasOwnProperty,u=n(9049).UI,c=n(8735).np,p=n(8735).YF;e.name="FunctionNode",e.path="expression.node",e.math=!0,e.factory=function(t,e,f,h,l){var m=f(n(1649)),d=f(n(73));function y(e,n){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new d(e)),!t.isNode(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(n)||!n.every(t.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=n||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var r=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:r,set:r})}y.prototype=new m,y.prototype.type="FunctionNode",y.prototype.isFunctionNode=!0,y.prototype._compile=function(e,n){if(!(this instanceof y))throw new TypeError("No valid FunctionNode");var r=u(this.args,(function(t){return t._compile(e,n)}));if(t.isSymbolNode(this.fn)){var i=this.fn.name,a=i in e?p(e,i):void 0;if("function"==typeof a&&!0===a.rawArgs){var s=this.args;return function(t,n,r){return(i in t?p(t,i):a)(s,e,o({},t,n))}}if(1===r.length){var f=r[0];return function(t,e,n){return(i in t?p(t,i):a)(f(t,e,n))}}if(2===r.length){var h=r[0],l=r[1];return function(t,e,n){return(i in t?p(t,i):a)(h(t,e,n),l(t,e,n))}}return function(t,e,n){return(i in t?p(t,i):a).apply(null,u(r,(function(r){return r(t,e,n)})))}}if(t.isAccessorNode(this.fn)&&t.isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var m=this.fn.object._compile(e,n),d=this.fn.index.getObjectProperty(),g=this.args;return function(t,n,i){var a=m(t,n,i);return c(a,d),a[d]&&a[d].rawArgs?a[d](g,e,o({},t,n)):a[d].apply(a,u(r,(function(e){return e(t,n,i)})))}}var v=this.fn._compile(e,n),b=this.args;return function(t,n,i){var a=v(t,n,i);return a&&a.rawArgs?a(b,e,o({},t,n)):a.apply(a,u(r,(function(e){return e(t,n,i)})))}},y.prototype.forEach=function(t){t(this.fn,"fn",this);for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},y.prototype.map=function(t){for(var e=this._ifNode(t(this.fn,"fn",this)),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new y(e,n)},y.prototype.clone=function(){return new y(this.fn,this.args.slice(0))};var g=y.prototype.toString;function v(e,n,o){for(var i,a="",s=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),u=0;null!==(i=s.exec(e));)if(a+=e.substring(u,i.index),u=i.index,"$$"===i[0])a+="$",u++;else{u+=i[0].length;var c=n[i[1]];if(!c)throw new ReferenceError("Template: Property "+i[1]+" does not exist.");if(void 0===i[2])switch(r(c)){case"string":a+=c;break;case"object":if(t.isNode(c))a+=c.toTex(o);else{if(!Array.isArray(c))throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes");a+=c.map((function(e,n){if(t.isNode(e))return e.toTex(o);throw new TypeError("Template: "+i[1]+"["+n+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes")}else{if(!t.isNode(c[i[2]]&&c[i[2]]))throw new TypeError("Template: "+i[1]+"["+i[2]+"] is not a Node.");a+=c[i[2]].toTex(o)}}return a+e.slice(u)}y.prototype.toString=function(t){var e,n=this.fn.toString(t);return t&&"object"===r(t.handler)&&s(t.handler,n)&&(e=t.handler[n](this,t)),void 0!==e?e:g.call(this,t)},y.prototype._toString=function(e){var n=this.args.map((function(t){return t.toString(e)}));return(t.isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+n.join(", ")+")"},y.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},y.fromJSON=function(t){return new y(t.fn,t.args)},y.prototype.toHTML=function(t){var e=this.args.map((function(e){return e.toHTML(t)}));return'<span class="math-function">'+a(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var b=y.prototype.toTex;return y.prototype.toTex=function(t){var e;return t&&"object"===r(t.handler)&&s(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:b.call(this,t)},y.prototype._toTex=function(t){var e,n,o=this.args.map((function(e){return e.toTex(t)}));switch(!l[this.name]||"function"!=typeof l[this.name].toTex&&"object"!==r(l[this.name].toTex)&&"string"!=typeof l[this.name].toTex||(e=l[this.name].toTex),r(e)){case"function":n=e(this,t);break;case"string":n=v(e,this,t);break;case"object":switch(r(e[o.length])){case"function":n=e[o.length](this,t);break;case"string":n=v(e[o.length],this,t)}}return void 0!==n?n:v(i.defaultTemplate,this,t)},y.prototype.getIdentifier=function(){return this.type+":"+this.name},y}},739:(t,e,n)=>{"use strict";var r=n(9049).UI,o=n(6214).escape;e.name="IndexNode",e.path="expression.node",e.factory=function(t,e,i,a){var s=i(n(1649)),u=i(n(6614)),c=Array.isArray;function p(e,n){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=n||!1,!c(e)||!e.every(t.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var r=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:r,set:r})}function f(e,n,r){return new u(t.isBigNumber(e)?e.toNumber():e,t.isBigNumber(n)?n.toNumber():n,t.isBigNumber(r)?r.toNumber():r)}return p.prototype=new s,p.prototype.type="IndexNode",p.prototype.isIndexNode=!0,p.prototype._compile=function(e,n){var o=r(this.dimensions,(function(r,o){if(t.isRangeNode(r)){if(r.needsEnd()){var i=Object.create(n);i.end=!0;var a=r.start._compile(e,i),s=r.end._compile(e,i),u=r.step?r.step._compile(e,i):function(){return 1};return function(t,n,r){var i=e.size(r).valueOf(),c=Object.create(n);return c.end=i[o],f(a(t,c,r),s(t,c,r),u(t,c,r))}}var c=r.start._compile(e,n),p=r.end._compile(e,n),h=r.step?r.step._compile(e,n):function(){return 1};return function(t,e,n){return f(c(t,e,n),p(t,e,n),h(t,e,n))}}if(t.isSymbolNode(r)&&"end"===r.name){var l=Object.create(n);l.end=!0;var m=r._compile(e,l);return function(t,n,r){var i=e.size(r).valueOf(),a=Object.create(n);return a.end=i[o],m(t,a,r)}}var d=r._compile(e,n);return function(t,e,n){return d(t,e,n)}}));return function(t,n,i){var a=r(o,(function(e){return e(t,n,i)}));return e.index.apply(e,a)}},p.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this)},p.prototype.map=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this._ifNode(t(this.dimensions[n],"dimensions["+n+"]",this));return new p(e)},p.prototype.clone=function(){return new p(this.dimensions.slice(0))},p.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&t.isConstantNode(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},p.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},p.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},p.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},p.fromJSON=function(t){return new p(t.dimensions,t.dotNotation)},p.prototype.toHTML=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+o(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},p.prototype._toTex=function(t){var e=this.dimensions.map((function(e){return e.toTex(t)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},p}},1649:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=n(7844),i=n(229).deepEqual,a=n(229).hasOwnProperty;e.name="Node",e.path="expression.node",e.math=!0,e.factory=function(t,e,n,s,u){function c(){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator")}return c.prototype.eval=function(t){return this.compile().eval(t)},c.prototype.type="Node",c.prototype.isNode=!0,c.prototype.comment="",c.prototype.compile=function(){var t=this._compile(u.expression.mathWithTransform,{}),e={};return{eval:function(n){var r=n||{};return function(t){for(var e in t)if(a(t,e)&&e in o)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(r),t(r,e,null)}}},c.prototype._compile=function(t,e){throw new Error("Method _compile should be implemented by type "+this.type)},c.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},c.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},c.prototype._ifNode=function(e){if(!t.isNode(e))throw new TypeError("Callback function must return a Node");return e},c.prototype.traverse=function(t){t(this,null,null),function t(e,n){e.forEach((function(e,r,o){n(e,r,o),t(e,n)}))}(this,t)},c.prototype.transform=function(t){return function t(e,n){return e.map((function(e,r,o){return t(n(e,r,o),n)}))}(t(this,null,null),t)},c.prototype.filter=function(t){var e=[];return this.traverse((function(n,r,o){t(n,r,o)&&e.push(n)})),e},c.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},c.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},c.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},c.prototype.cloneDeep=function(){return this.map((function(t){return t.cloneDeep()}))},c.prototype.equals=function(t){return!!t&&i(this,t)},c.prototype.toString=function(t){var e;if(t&&"object"===r(t))switch(r(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},c.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},c.prototype.toHTML=function(t){var e;if(t&&"object"===r(t))switch(r(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this.toHTML(t)},c.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},c.prototype.toTex=function(t){var e;if(t&&"object"===r(t))switch(r(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},c.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},c.prototype.getIdentifier=function(){return this.type},c.prototype.getContent=function(){return this},c}},4573:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=n(6214).stringify,i=n(6214).escape,a=n(8735).pp,s=n(229).hasOwnProperty;e.name="ObjectNode",e.path="expression.node",e.factory=function(t,e,u,c){var p=u(n(1649));function f(e){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!==r(e)||!Object.keys(e).every((function(n){return t.isNode(e[n])}))))throw new TypeError("Object containing Nodes expected")}return f.prototype=new p,f.prototype.type="ObjectNode",f.prototype.isObjectNode=!0,f.prototype._compile=function(t,e){var n={};for(var r in this.properties)if(s(this.properties,r)){var i=o(r),u=JSON.parse(i);if(!a(this.properties,u))throw new Error('No access to property "'+u+'"');n[u]=this.properties[r]._compile(t,e)}return function(t,e,r){var o={};for(var i in n)s(n,i)&&(o[i]=n[i](t,e,r));return o}},f.prototype.forEach=function(t){for(var e in this.properties)this.properties.hasOwnProperty(e)&&t(this.properties[e],"properties["+o(e)+"]",this)},f.prototype.map=function(t){var e={};for(var n in this.properties)this.properties.hasOwnProperty(n)&&(e[n]=this._ifNode(t(this.properties[n],"properties["+o(n)+"]",this)));return new f(e)},f.prototype.clone=function(){var t={};for(var e in this.properties)this.properties.hasOwnProperty(e)&&(t[e]=this.properties[e]);return new f(t)},f.prototype._toString=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push(o(n)+": "+this.properties[n].toString(t));return"{"+e.join(", ")+"}"},f.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},f.fromJSON=function(t){return new f(t.properties)},f.prototype.toHTML=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push('<span class="math-symbol math-property">'+i(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(t));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},f.prototype._toTex=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(t)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(e.join("\n"),"\\end{array}\\right\\}")},f}},7989:(t,e,n)=>{"use strict";var r=n(7917),o=n(9049).UI,i=n(6214).escape,a=n(8735).OJ,s=n(8735).YF,u=n(6107);e.name="OperatorNode",e.path="expression.node",e.factory=function(t,e,c,p){var f=c(n(1649));function h(e,n,r,o){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof n)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(t.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===o,this.op=e,this.fn=n,this.args=r||[]}function l(t,e,n,r,o){var i,a=u.getPrecedence(t,e),s=u.getAssociativity(t,e);if("all"===e||r.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return r.map((function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));switch(r.length){case 0:i=[];break;case 1:var c=u.getPrecedence(r[0],e);if(o&&null!==c){var p,f;if("keep"===e?(p=r[0].getIdentifier(),f=t.getIdentifier()):(p=r[0].getContent().getIdentifier(),f=t.getContent().getIdentifier()),!1===u.properties[a][f].latexLeftParens){i=[!1];break}if(!1===u.properties[c][p].latexParens){i=[!1];break}}if(null===c){i=[!1];break}if(c<=a){i=[!0];break}i=[!1];break;case 2:var h,l,m=u.getPrecedence(r[0],e),d=u.isAssociativeWith(t,r[0],e);h=null!==m&&(m===a&&"right"===s&&!d||m<a);var y,g,v,b=u.getPrecedence(r[1],e),w=u.isAssociativeWith(t,r[1],e);l=null!==b&&(b===a&&"left"===s&&!w||b<a),o&&("keep"===e?(y=t.getIdentifier(),g=t.args[0].getIdentifier(),v=t.args[1].getIdentifier()):(y=t.getContent().getIdentifier(),g=t.args[0].getContent().getIdentifier(),v=t.args[1].getContent().getIdentifier()),null!==m&&(!1===u.properties[a][y].latexLeftParens&&(h=!1),!1===u.properties[m][g].latexParens&&(h=!1)),null!==b&&(!1===u.properties[a][y].latexRightParens&&(l=!1),!1===u.properties[b][v].latexParens&&(l=!1))),i=[h,l];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(i=r.map((function(n){var r=u.getPrecedence(n,e),o=u.isAssociativeWith(t,n,e),i=u.getAssociativity(n,e);return null!==r&&(a===r&&s===i&&!o||r<a)})))}return r.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"auto"===e&&"hide"===n&&(i=r.map((function(t,e){var n="ParenthesisNode"===t.getIdentifier();return!(!i[e]&&!n)}))),i}return h.prototype=new f,h.prototype.type="OperatorNode",h.prototype.isOperatorNode=!0,h.prototype._compile=function(t,e){if("string"!=typeof this.fn||!a(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=s(t,this.fn),r=o(this.args,(function(n){return n._compile(t,e)}));if(1===r.length){var i=r[0];return function(t,e,r){return n(i(t,e,r))}}if(2===r.length){var u=r[0],c=r[1];return function(t,e,r){return n(u(t,e,r),c(t,e,r))}}return function(t,e,i){return n.apply(null,o(r,(function(n){return n(t,e,i)})))}},h.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},h.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new h(this.op,this.fn,e,this.implicit)},h.prototype.clone=function(){return new h(this.op,this.fn,this.args.slice(0),this.implicit)},h.prototype.isUnary=function(){return 1===this.args.length},h.prototype.isBinary=function(){return 2===this.args.length},h.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",r=this.args,o=l(this,e,n,r,!1);if(1===r.length){var i=u.getAssociativity(this,e),a=r[0].toString(t);o[0]&&(a="("+a+")");var s=/[a-zA-Z]+/.test(this.op);return"right"===i?this.op+(s?" ":"")+a:"left"===i?a+(s?" ":"")+this.op:a+this.op}if(2===r.length){var c=r[0].toString(t),p=r[1].toString(t);return o[0]&&(c="("+c+")"),o[1]&&(p="("+p+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c+" "+p:c+" "+this.op+" "+p}if(r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=r.map((function(e,n){return e=e.toString(t),o[n]&&(e="("+e+")"),e}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?f.join(" "):f.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},h.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},h.fromJSON=function(t){return new h(t.op,t.fn,t.args,t.implicit)},h.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",r=this.args,o=l(this,e,n,r,!1);if(1===r.length){var a=u.getAssociativity(this,e),s=r[0].toHTML(t);return o[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+i(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+i(this.op)+"</span>"}if(2===r.length){var c=r[0].toHTML(t),p=r[1].toHTML(t);return o[0]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o[1]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+p:c+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+i(this.op)+"</span>"+p}var f=r.map((function(e,n){return e=e.toHTML(t),o[n]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e}));return r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?f.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):f.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+i(this.op)+"</span>"):'<span class="math-function">'+i(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+f.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},h.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",o=this.args,i=l(this,e,n,o,!0),a=r.operators[this.fn];if(a=void 0===a?this.op:a,1===o.length){var s=u.getAssociativity(this,e),c=o[0].toTex(t);return i[0]&&(c="\\left(".concat(c,"\\right)")),"right"===s?a+c:c+a}if(2===o.length){var p=o[0],f=p.toTex(t);i[0]&&(f="\\left(".concat(f,"\\right)"));var h,m=o[1].toTex(t);switch(i[1]&&(m="\\left(".concat(m,"\\right)")),h="keep"===e?p.getIdentifier():p.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+f+"}{"+m+"}";case"OperatorNode:pow":switch(f="{"+f+"}",m="{"+m+"}",h){case"ConditionalNode":case"OperatorNode:divide":f="\\left(".concat(f,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return f+"~"+m}return f+a+m}if(o.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var d=o.map((function(e,n){return e=e.toTex(t),i[n]&&(e="\\left(".concat(e,"\\right)")),e}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?d.join("~"):d.join(a)}return"\\mathrm{"+this.fn+"}\\left("+o.map((function(e){return e.toTex(t)})).join(",")+"\\right)"},h.prototype.getIdentifier=function(){return this.type+":"+this.fn},h}},706:(t,e,n)=>{"use strict";e.name="ParenthesisNode",e.path="expression.node",e.factory=function(t,e,r,o){var i=r(n(1649));function a(e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return a.prototype=new i,a.prototype.type="ParenthesisNode",a.prototype.isParenthesisNode=!0,a.prototype._compile=function(t,e){return this.content._compile(t,e)},a.prototype.getContent=function(){return this.content.getContent()},a.prototype.forEach=function(t){t(this.content,"content",this)},a.prototype.map=function(t){return new a(t(this.content,"content",this))},a.prototype.clone=function(){return new a(this.content)},a.prototype._toString=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},a.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},a.fromJSON=function(t){return new a(t.content)},a.prototype.toHTML=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)},a.prototype._toTex=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)},a}},6689:(t,e,n)=>{"use strict";var r=n(6107);e.name="RangeNode",e.path="expression.node",e.factory=function(t,e,o,i){var a=o(n(1649));function s(e,n,r){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError("Node expected");if(!t.isNode(n))throw new TypeError("Node expected");if(r&&!t.isNode(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=n,this.step=r||null}function u(t,e){var n=r.getPrecedence(t,e),o={},i=r.getPrecedence(t.start,e);if(o.start=null!==i&&i<=n||"all"===e,t.step){var a=r.getPrecedence(t.step,e);o.step=null!==a&&a<=n||"all"===e}var s=r.getPrecedence(t.end,e);return o.end=null!==s&&s<=n||"all"===e,o}return s.prototype=new a,s.prototype.type="RangeNode",s.prototype.isRangeNode=!0,s.prototype.needsEnd=function(){return this.filter((function(e){return t.isSymbolNode(e)&&"end"===e.name})).length>0},s.prototype._compile=function(t,e){var n=t.range,r=this.start._compile(t,e),o=this.end._compile(t,e);if(this.step){var i=this.step._compile(t,e);return function(t,e,a){return n(r(t,e,a),o(t,e,a),i(t,e,a))}}return function(t,e,i){return n(r(t,e,i),o(t,e,i))}},s.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)},s.prototype.map=function(t){return new s(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},s.prototype.clone=function(){return new s(this.start,this.end,this.step&&this.step)},s.prototype._toString=function(t){var e,n=u(this,t&&t.parenthesis?t.parenthesis:"keep"),r=this.start.toString(t);if(n.start&&(r="("+r+")"),e=r,this.step){var o=this.step.toString(t);n.step&&(o="("+o+")"),e+=":"+o}var i=this.end.toString(t);return n.end&&(i="("+i+")"),e+":"+i},s.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},s.fromJSON=function(t){return new s(t.start,t.end,t.step)},s.prototype.toHTML=function(t){var e,n=u(this,t&&t.parenthesis?t.parenthesis:"keep"),r=this.start.toHTML(t);if(n.start&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=r,this.step){var o=this.step.toHTML(t);n.step&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+o}var i=this.end.toHTML(t);return n.end&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+'<span class="math-operator math-range-operator">:</span>'+i},s.prototype._toTex=function(t){var e=u(this,t&&t.parenthesis?t.parenthesis:"keep"),n=this.start.toTex(t);if(e.start&&(n="\\left(".concat(n,"\\right)")),this.step){var r=this.step.toTex(t);e.step&&(r="\\left(".concat(r,"\\right)")),n+=":"+r}var o=this.end.toTex(t);return e.end&&(o="\\left(".concat(o,"\\right)")),n+":"+o},s}},1270:(t,e,n)=>{"use strict";var r=n(6107),o=n(7917),i=n(6214).escape;e.name="RelationalNode",e.path="expression.node",e.factory=function(t,e,a,s){var u=a(n(1649)),c=n(8735).YF;function p(t,e){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e}return p.prototype=new u,p.prototype.type="RelationalNode",p.prototype.isRelationalNode=!0,p.prototype._compile=function(t,e){var n=this,r=this.params.map((function(n){return n._compile(t,e)}));return function(e,o,i){for(var a,s=r[0](e,o,i),u=0;u<n.conditionals.length;u++)if(a=s,s=r[u+1](e,o,i),!c(t,n.conditionals[u])(a,s))return!1;return!0}},p.prototype.forEach=function(t){var e=this;this.params.forEach((function(n,r){return t(n,"params["+r+"]",e)}),this)},p.prototype.map=function(t){var e=this;return new p(this.conditionals.slice(),this.params.map((function(n,r){return e._ifNode(t(n,"params["+r+"]",e))}),this))},p.prototype.clone=function(){return new p(this.conditionals,this.params)},p.prototype._toString=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=r.getPrecedence(this,e),o=this.params.map((function(o,i){var a=r.getPrecedence(o,e);return"all"===e||null!==a&&a<=n?"("+o.toString(t)+")":o.toString(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=o[0],s=0;s<this.conditionals.length;s++)a+=" "+i[this.conditionals[s]]+" "+o[s+1];return a},p.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},p.fromJSON=function(t){return new p(t.conditionals,t.params)},p.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=r.getPrecedence(this,e),o=this.params.map((function(o,i){var a=r.getPrecedence(o,e);return"all"===e||null!==a&&a<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+o.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':o.toHTML(t)})),a={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=o[0],u=0;u<this.conditionals.length;u++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+i(a[this.conditionals[u]])+"</span>"+o[u+1];return s},p.prototype._toTex=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=r.getPrecedence(this,e),i=this.params.map((function(o,i){var a=r.getPrecedence(o,e);return"all"===e||null!==a&&a<=n?"\\left("+o.toTex(t)+"\right)":o.toTex(t)})),a=i[0],s=0;s<this.conditionals.length;s++)a+=o.operators[this.conditionals[s]]+i[s+1];return a},p}},73:(t,e,n)=>{"use strict";var r=n(7917),o=n(6214).escape,i=n(229).hasOwnProperty,a=n(8735).YF;e.name="SymbolNode",e.path="expression.node",e.math=!0,e.factory=function(t,e,s,u,c){var p=s(n(1649));function f(e){return!!t.Unit&&t.Unit.isValuelessUnit(e)}function h(t){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t}return h.prototype=new p,h.prototype.type="SymbolNode",h.prototype.isSymbolNode=!0,h.prototype._compile=function(e,n){var r=this.name;if(i(n,r))return function(t,e,n){return e[r]};if(r in e)return function(t,n,o){return a(r in t?t:e,r)};var o=f(r);return function(e,n,i){return r in e?a(e,r):o?new t.Unit(null,r):function(t){throw new Error("Undefined symbol "+t)}(r)}},h.prototype.forEach=function(t){},h.prototype.map=function(t){return this.clone()},h.prototype.clone=function(){return new h(this.name)},h.prototype._toString=function(t){return this.name},h.prototype.toHTML=function(t){var e=o(this.name);return"true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},h.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},h.fromJSON=function(t){return new h(t.name)},h.prototype._toTex=function(t){var e=!1;void 0===c[this.name]&&f(this.name)&&(e=!0);var n=r.toSymbol(this.name,e);return"\\"===n[0]?n:" "+n},h}},8839:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=n(7453).v,i=n(8735).YF;e.factory=function(t,e,a,s){var u=a(n(93));return function(t,e){try{if(Array.isArray(t))return u(t,e);if(t&&"function"==typeof t.subset)return t.subset(e);if("string"==typeof t)return u(t,e);if("object"===r(t)){if(!e.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return i(t,e.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw o(t)}}}},3452:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=n(7453).v,i=n(8735).nI;e.factory=function(t,e,a,s){var u=a(n(93)),c=a(n(7361));return function(t,e,n){try{if(Array.isArray(t))return c(t).subset(e,n).valueOf();if(t&&"function"==typeof t.subset)return t.subset(e,n);if("string"==typeof t)return u(t,e,n);if("object"===r(t)){if(!e.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return i(t,e.getObjectProperty(),n),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw o(t)}}}},6107:t=>{"use strict";var e=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function n(t,n){var r=t;"keep"!==n&&(r=t.getContent());for(var o=r.getIdentifier(),i=0;i<e.length;i++)if(o in e[i])return i;return null}t.exports.properties=e,t.exports.getPrecedence=n,t.exports.getAssociativity=function(t,r){var o=t;"keep"!==r&&(o=t.getContent());var i=o.getIdentifier(),a=n(o,r);if(null===a)return null;var s=e[a][i];if(s.hasOwnProperty("associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+s.associativity+"'.")}return null},t.exports.isAssociativeWith=function(t,r,o){var i="keep"!==o?t.getContent():t,a="keep"!==o?t.getContent():r,s=i.getIdentifier(),u=a.getIdentifier(),c=n(i,o);if(null===c)return null;var p=e[c][s];if(p.hasOwnProperty("associativeWith")&&p.associativeWith instanceof Array){for(var f=0;f<p.associativeWith.length;f++)if(p.associativeWith[f]===u)return!0;return!1}return null}},6014:(t,e,n)=>{"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}var o=n(6732),i=n(5309);e.name="parse",e.path="expression",e.factory=function(t,e,a,s){var u=a(n(9499)),c=a(n(6189)),p=a(n(7448)),f=a(n(7890)),h=a(n(761)),l=a(n(9862)),m=a(n(2347)),d=a(n(9885)),y=a(n(739)),g=a(n(4573)),v=a(n(7989)),b=a(n(706)),w=a(n(1272)),x=a(n(6689)),N=a(n(1270)),O=a(n(73));function S(e,n){if(1!==arguments.length&&2!==arguments.length)throw new o("parse",arguments.length,1,2);var r=n&&n.nodes?n.nodes:{};if("string"==typeof e)return B(e,r);if(Array.isArray(e)||e instanceof t.Matrix)return i(e,(function(t){if("string"!=typeof t)throw new TypeError("String expected");return B(t,r)}));throw new TypeError("String or matrix expected")}var E={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},k={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},T={true:!0,false:!1,null:null,undefined:void 0},j=["NaN","Infinity"];function A(t,e){return t.expression.substr(t.index,e)}function P(t){return A(t,1)}function C(t){t.index++}function M(t){return t.expression.charAt(t.index-1)}function F(t){return t.expression.charAt(t.index+1)}function I(t){for(t.tokenType=0,t.token="",t.comment="";S.isWhitespace(P(t),t.nestingLevel);)C(t);if("#"===P(t))for(;"\n"!==P(t)&&""!==P(t);)t.comment+=P(t),C(t);if(""!==P(t)){if("\n"===P(t)&&!t.nestingLevel)return t.tokenType=1,t.token=P(t),void C(t);var e=P(t),n=A(t,2),r=A(t,3);if(3===r.length&&E[r])return t.tokenType=1,t.token=r,C(t),C(t),void C(t);if(2===n.length&&E[n])return t.tokenType=1,t.token=n,C(t),void C(t);if(E[e])return t.tokenType=1,t.token=e,void C(t);if(S.isDigitDot(e)){if(t.tokenType=2,"."===P(t))t.token+=P(t),C(t),S.isDigit(P(t))||(t.tokenType=1);else{for(;S.isDigit(P(t));)t.token+=P(t),C(t);S.isDecimalMark(P(t),F(t))&&(t.token+=P(t),C(t))}for(;S.isDigit(P(t));)t.token+=P(t),C(t);if("E"===P(t)||"e"===P(t))if(S.isDigit(F(t))||"-"===F(t)||"+"===F(t)){if(t.token+=P(t),C(t),"+"!==P(t)&&"-"!==P(t)||(t.token+=P(t),C(t)),!S.isDigit(P(t)))throw it(t,'Digit expected, got "'+P(t)+'"');for(;S.isDigit(P(t));)t.token+=P(t),C(t);if(S.isDecimalMark(P(t),F(t)))throw it(t,'Digit expected, got "'+P(t)+'"')}else if("."===F(t))throw C(t),it(t,'Digit expected, got "'+P(t)+'"')}else{if(!S.isAlpha(P(t),M(t),F(t))){for(t.tokenType=4;""!==P(t);)t.token+=P(t),C(t);throw it(t,'Syntax error in part "'+t.token+'"')}for(;S.isAlpha(P(t),M(t),F(t))||S.isDigit(P(t));)t.token+=P(t),C(t);k.hasOwnProperty(t.token)?t.tokenType=1:t.tokenType=3}}else t.tokenType=1}function _(t){do{I(t)}while("\n"===t.token)}function D(t){t.nestingLevel++}function L(t){t.nestingLevel--}function B(t,e){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:0,nestingLevel:0,conditionalLevel:null};r(n,{expression:t,extraNodes:e}),I(n);var o=function(t){var e,n,r=[];for(""!==t.token&&"\n"!==t.token&&";"!==t.token&&((e=H(t)).comment=t.comment);"\n"===t.token||";"===t.token;)0===r.length&&e&&(n=";"!==t.token,r.push({node:e,visible:n})),I(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&((e=H(t)).comment=t.comment,n=";"!==t.token,r.push({node:e,visible:n}));return r.length>0?new h(r):(e||((e=new m(void 0)).comment=t.comment),e)}(n);if(""!==n.token)throw 1===n.tokenType?at(n,"Unexpected operator "+n.token):it(n,'Unexpected part "'+n.token+'"');return o}function H(e){var n,r,o,i,a=function(t){for(var e=function(t){for(var e=R(t);"or"===t.token;)_(t),e=new v("or","or",[e,R(t)]);return e}(t);"?"===t.token;){var n=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,_(t);var r=e,o=H(t);if(":"!==t.token)throw it(t,"False part of conditional expression expected");t.conditionalLevel=null,_(t);var i=H(t);e=new l(r,o,i),t.conditionalLevel=n}return e}(e);if("="===e.token){if(t.isSymbolNode(a))return n=a.name,_(e),o=H(e),new f(new O(n),o);if(t.isAccessorNode(a))return _(e),o=H(e),new f(a.object,a.index,o);if(t.isFunctionNode(a)&&t.isSymbolNode(a.fn)&&(i=!0,r=[],n=a.name,a.args.forEach((function(e,n){t.isSymbolNode(e)?r[n]=e.name:i=!1})),i))return _(e),o=H(e),new d(n,r,o);throw it(e,"Invalid left hand side of assignment operator =")}return a}function R(t){for(var e=W(t);"xor"===t.token;)_(t),e=new v("xor","xor",[e,W(t)]);return e}function W(t){for(var e=q(t);"and"===t.token;)_(t),e=new v("and","and",[e,q(t)]);return e}function q(t){for(var e=J(t);"|"===t.token;)_(t),e=new v("|","bitOr",[e,J(t)]);return e}function J(t){for(var e=U(t);"^|"===t.token;)_(t),e=new v("^|","bitXor",[e,U(t)]);return e}function U(t){for(var e=$(t);"&"===t.token;)_(t),e=new v("&","bitAnd",[e,$(t)]);return e}function $(t){for(var e=[z(t)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};r.hasOwnProperty(t.token);){var o={name:t.token,fn:r[t.token]};n.push(o),_(t),e.push(z(t))}return 1===e.length?e[0]:2===e.length?new v(n[0].name,n[0].fn,e):new N(n.map((function(t){return t.fn})),e)}function z(t){var e,n,r,o,i;for(e=V(t),n={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};n.hasOwnProperty(t.token);)o=n[r=t.token],_(t),i=[e,V(t)],e=new v(r,o,i);return e}function V(t){var e,n,r,o,i;for(e=Y(t),n={to:"to",in:"to"};n.hasOwnProperty(t.token);)o=n[r=t.token],_(t),"in"===r&&""===t.token?e=new v("*","multiply",[e,new O("in")],!0):(i=[e,Y(t)],e=new v(r,o,i));return e}function Y(t){var e,n=[];if(e=":"===t.token?new m(1):X(t),":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(n.push(e);":"===t.token&&n.length<3;)_(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?n.push(new O("end")):n.push(X(t));e=3===n.length?new x(n[0],n[2],n[1]):new x(n[0],n[1])}return e}function X(t){var e,n,r,o,i;for(e=Z(t),n={"+":"add","-":"subtract"};n.hasOwnProperty(t.token);)o=n[r=t.token],_(t),i=[e,Z(t)],e=new v(r,o,i);return e}function Z(t){var e,n,r,o,i;for(n=e=G(t),r={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};r.hasOwnProperty(t.token);)i=r[o=t.token],_(t),n=G(t),e=new v(o,i,[e,n]);return e}function G(e){var n,r;for(r=n=K(e);3===e.tokenType||"in"===e.token&&t.isConstantNode(n)||!(2!==e.tokenType||t.isConstantNode(r)||t.isOperatorNode(r)&&"!"!==r.op)||"("===e.token;)r=K(e),n=new v("*","multiply",[n,r],!0);return n}function K(e){for(var n=Q(e),o=n,i=[];"/"===e.token&&t.isConstantNode(o);){if(i.push(r({},e)),_(e),2!==e.tokenType){r(e,i.pop());break}if(i.push(r({},e)),_(e),3!==e.tokenType&&"("!==e.token){i.pop(),r(e,i.pop());break}r(e,i.pop()),i.pop(),o=Q(e),n=new v("/","divide",[n,o])}return n}function Q(t){var n,r,o,i={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return i.hasOwnProperty(t.token)?(o=i[t.token],n=t.token,_(t),r=[Q(t)],new v(n,o,r)):function(t){var n,r,o,i;return n=function(t){var n,r,o,i;for(n=function(t){var n=[];if(3===t.tokenType&&t.extraNodes.hasOwnProperty(t.token)){var r=t.extraNodes[t.token];if(I(t),"("===t.token){if(n=[],D(t),I(t),")"!==t.token)for(n.push(H(t));","===t.token;)I(t),n.push(H(t));if(")"!==t.token)throw it(t,"Parenthesis ) expected");L(t),I(t)}return new r(n)}return function(t){var n;return 3===t.tokenType||1===t.tokenType&&t.token in k?(n=t.token,I(t),tt(t,T.hasOwnProperty(n)?new m(T[n]):-1!==j.indexOf(n)?new m(u(n,"number")):new O(n))):function(t){var n;return'"'===t.token?(n=et(t),tt(t,new m(n))):function(t){var n;return"'"===t.token?(n=nt(t),tt(t,new m(n))):function(t){var n,r,o,i;if("["===t.token){if(D(t),I(t),"]"!==t.token){var a=rt(t);if(";"===t.token){for(o=1,r=[a];";"===t.token;)I(t),r[o]=rt(t),o++;if("]"!==t.token)throw it(t,"End of matrix ] expected");L(t),I(t),i=r[0].items.length;for(var s=1;s<o;s++)if(r[s].items.length!==i)throw at(t,"Column dimensions mismatch ("+r[s].items.length+" !== "+i+")");n=new p(r)}else{if("]"!==t.token)throw it(t,"End of matrix ] expected");L(t),I(t),n=a}}else L(t),I(t),n=new p([]);return tt(t,n)}return function(t){if("{"===t.token){var n;D(t);var r={};do{if(I(t),"}"!==t.token){if('"'===t.token)n=et(t);else if("'"===t.token)n=nt(t);else{if(3!==t.tokenType)throw it(t,"Symbol or string expected as object key");n=t.token,I(t)}if(":"!==t.token)throw it(t,"Colon : expected after object key");I(t),r[n]=H(t)}}while(","===t.token);if("}"!==t.token)throw it(t,"Comma , or bracket } expected after object value");L(t),I(t);var o=new g(r);return tt(t,o)}return function(t){var n;return 2===t.tokenType?(n=t.token,I(t),new m(u(n,e.number))):function(t){var e;if("("===t.token){if(D(t),I(t),e=H(t),")"!==t.token)throw it(t,"Parenthesis ) expected");return L(t),I(t),tt(t,e=new b(e))}return function(t){throw""===t.token?it(t,"Unexpected end of expression"):it(t,"Value expected")}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t),r={"!":"factorial","'":"ctranspose"};r.hasOwnProperty(t.token);)i=r[o=t.token],I(t),n=tt(t,n=new v(o,i,[n]));return n}(t),("^"===t.token||".^"===t.token)&&(o="^"===(r=t.token)?"pow":"dotPow",_(t),i=[n,Q(t)],n=new v(r,o,i)),n}(t)}function tt(e,n,r){for(var o;!("("!==e.token&&"["!==e.token&&"."!==e.token||r&&-1===r.indexOf(e.token));)if(o=[],"("===e.token){if(!t.isSymbolNode(n)&&!t.isAccessorNode(n))return n;if(D(e),I(e),")"!==e.token)for(o.push(H(e));","===e.token;)I(e),o.push(H(e));if(")"!==e.token)throw it(e,"Parenthesis ) expected");L(e),I(e),n=new w(n,o)}else if("["===e.token){if(D(e),I(e),"]"!==e.token)for(o.push(H(e));","===e.token;)I(e),o.push(H(e));if("]"!==e.token)throw it(e,"Parenthesis ] expected");L(e),I(e),n=new c(n,new y(o))}else{if(I(e),3!==e.tokenType)throw it(e,"Property name expected after dot");o.push(new m(e.token)),I(e),n=new c(n,new y(o,!0))}return n}function et(t){for(var e="";""!==P(t)&&'"'!==P(t);)"\\"===P(t)&&(e+=P(t),C(t)),e+=P(t),C(t);if(I(t),'"'!==t.token)throw it(t,'End of string " expected');return I(t),JSON.parse('"'+e+'"')}function nt(t){for(var e="";""!==P(t)&&"'"!==P(t);)"\\"===P(t)&&(e+=P(t),C(t)),e+=P(t),C(t);if(I(t),"'"!==t.token)throw it(t,"End of string ' expected");return I(t),JSON.parse('"'+e+'"')}function rt(t){for(var e=[H(t)],n=1;","===t.token;)I(t),e[n]=H(t),n++;return new p(e)}function ot(t){return t.index-t.token.length+1}function it(t,e){var n=ot(t),r=new SyntaxError(e+" (char "+n+")");return r.char=n,r}function at(t,e){var n=ot(t),r=new SyntaxError(e+" (char "+n+")");return r.char=n,r}return S.isAlpha=function(t,e,n){return S.isValidLatinOrGreek(t)||S.isValidMathSymbol(t,n)||S.isValidMathSymbol(e,t)},S.isValidLatinOrGreek=function(t){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},S.isValidMathSymbol=function(t,e){return/^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},S.isWhitespace=function(t,e){return" "===t||"\t"===t||"\n"===t&&e>0},S.isDecimalMark=function(t,e){return"."===t&&"/"!==e&&"*"!==e&&"^"!==e},S.isDigitDot=function(t){return t>="0"&&t<="9"||"."===t},S.isDigit=function(t){return t>="0"&&t<="9"},S}},7453:(t,e,n)=>{"use strict";var r=n(7677);e.v=function(t){return t&&t.isIndexError?new r(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}},93:(t,e,n)=>{"use strict";var r=n(229).clone,o=n(9049).Ls,i=n(8735).YF,a=n(8735).nI,s=n(4961);function u(t,e){if(1!==e.size().length)throw new s(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return i(t,n)}function c(t,e,n){if(1!==e.size().length)throw new s(e.size(),1);var o=e.dimension(0);if("string"!=typeof o)throw new TypeError("String expected as index to retrieve an object property");var i=r(t);return a(i,o,n),i}e.name="subset",e.factory=function(t,e,i,a){var p=i(n(7361)),f=a("subset",{"Array, Index":function(t,e){var n=p(t).subset(e);return e.isScalar()?n:n.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":u,"string, Index":function(e,n){if(!t.isIndex(n))throw new TypeError("Index expected");if(1!==n.size().length)throw new s(n.size().length,1);var r=e.length;o(n.min()[0],r),o(n.max()[0],r);var i=n.dimension(0),a="";return i.forEach((function(t){a+=e.charAt(t)})),a},"Array, Index, any":function(t,e,n){return p(r(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,o){return p(r(t)).subset(e,n,o).valueOf()},"Matrix, Index, any":function(t,e,n){return t.clone().subset(e,n)},"Matrix, Index, any, any":function(t,e,n,r){return t.clone().subset(e,n,r)},"string, Index, string":h,"string, Index, string, string":h,"Object, Index, any":c});return f.toTex=void 0,f;function h(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new s(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0);if(i.size()[0]!==n.length)throw new s(i.size()[0],n.length);var a=t.length;o(e.min()[0]),o(e.max()[0]);for(var u=[],c=0;c<a;c++)u[c]=t.charAt(c);if(i.forEach((function(t,e){u[t]=n.charAt(e[0])})),u.length>a)for(var p=a-1,f=u.length;p<f;p++)u[p]||(u[p]=r);return u.join("")}}},4701:(t,e,n)=>{"use strict";var r=n(6214);e.name="format",e.factory=function(t,e,n,o){var i=o("format",{any:r.format,"any, Object | function | number":r.format});return i.toTex=void 0,i}},7082:(t,e)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.name="typeof",e.factory=function(t,e,r,o){var i=o("_typeof",{any:function(e){var r=n(e);return"object"===r?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":t.isBigNumber(e)?"BigNumber":t.isComplex(e)?"Complex":t.isFraction(e)?"Fraction":t.isMatrix(e)?"Matrix":t.isUnit(e)?"Unit":t.isIndex(e)?"Index":t.isRange(e)?"Range":t.isResultSet(e)?"ResultSet":t.isNode(e)?e.type:t.isChain(e)?"Chain":t.isHelp(e)?"Help":"Object":"function"===r?"Function":r}});return i.toTex=void 0,i}},6474:(t,e,n)=>{"use strict";var r=n(5309);e.name="bignumber",e.factory=function(t,e,n,o){var i=o("bignumber",{"":function(){return new t.BigNumber(0)},number:function(e){return new t.BigNumber(e+"")},string:function(e){return new t.BigNumber(e)},BigNumber:function(t){return t},Fraction:function(e){return new t.BigNumber(e.n).div(e.d).times(e.s)},null:function(e){return new t.BigNumber(0)},"Array | Matrix":function(t){return r(t,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)"},i}},1511:(t,e,n)=>{"use strict";var r=n(5309);e.name="fraction",e.factory=function(t,e,n,o){var i=o("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new t.Fraction(e)},string:function(e){return new t.Fraction(e)},"number, number":function(e,n){return new t.Fraction(e,n)},null:function(e){return new t.Fraction(0)},BigNumber:function(e){return new t.Fraction(e.toString())},Fraction:function(t){return t},Object:function(e){return new t.Fraction(e)},"Array | Matrix":function(t){return r(t,i)}});return i}},6614:(t,e,n)=>{"use strict";var r=n(1523);e.name="Range",e.path="type",e.factory=function(t,e,n,o){function i(e,n,r){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");var o=null!=e,a=null!=n,s=null!=r;if(o)if(t.isBigNumber(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(a)if(t.isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter end must be a number");if(s)if(t.isBigNumber(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=o?parseFloat(e):0,this.end=a?parseFloat(n):0,this.step=s?parseFloat(r):1}return i.prototype.type="Range",i.prototype.isRange=!0,i.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":").map((function(t){return parseFloat(t)}));if(e.some((function(t){return isNaN(t)})))return null;switch(e.length){case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[2],e[1]);default:return null}},i.prototype.clone=function(){return new i(this.start,this.end,this.step)},i.prototype.size=function(){var t=0,e=this.start,n=this.step,o=this.end-e;return r.sign(n)===r.sign(o)?t=Math.ceil(o/n):0===o&&(t=0),isNaN(t)&&(t=0),[t]},i.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},i.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},i.prototype.forEach=function(t){var e=this.start,n=this.step,r=this.end,o=0;if(n>0)for(;e<r;)t(e,[o],this),e+=n,o++;else if(n<0)for(;e>r;)t(e,[o],this),e+=n,o++},i.prototype.map=function(t){var e=[];return this.forEach((function(n,r,o){e[r[0]]=t(n,r,o)})),e},i.prototype.toArray=function(){var t=[];return this.forEach((function(e,n){t[n[0]]=e})),t},i.prototype.valueOf=function(){return this.toArray()},i.prototype.format=function(t){var e=r.format(this.start,t);return 1!==this.step&&(e+=":"+r.format(this.step,t)),e+":"+r.format(this.end,t)},i.prototype.toString=function(){return this.format()},i.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},i.fromJSON=function(t){return new i(t.start,t.end,t.step)},i}},7361:(t,e)=>{"use strict";e.name="matrix",e.factory=function(t,e,n,r){var o=r("matrix",{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return o.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},o;function i(e,n,r){return new(t.Matrix.storage(n||"default"))(e,r)}}},4546:(t,e,n)=>{"use strict";var r=n(5309);e.name="number",e.factory=function(t,e,n,o){var i=o("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return r(t,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},i}},9499:(t,e,n)=>{"use strict";e.path="type",e.name="_numeric",e.factory=function(t,e,r,o){var i=r(n(7082)),a={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:r(n(4546)),BigNumber:r(n(6474)),Fraction:r(n(1511))},u=function(t,e){var n=i(t);if(!(n in a))throw new TypeError("Cannot convert "+t+' of type "'+n+'"; valid input types are '+Object.keys(a).join(", "));if(!(e in s))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(s).join(", "));return e===n?t:s[e](t)};return u.toTex=function(t,e){return t.args[0].toTex()},u}},1825:(t,e)=>{"use strict";e.name="ResultSet",e.path="type",e.factory=function(t,e,n,r){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return o.prototype.type="ResultSet",o.prototype.isResultSet=!0,o.prototype.valueOf=function(){return this.entries},o.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},o.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},o.fromJSON=function(t){return new o(t.entries)},o}},9049:(t,e,n)=>{"use strict";e.Ls=function(t,e){if(!r.default.isNumber(t)||!r.default.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new o.default(t,e)},e.UI=function(t,e){return Array.prototype.map.call(t,e)},e.Ed=function(t,e){Array.prototype.forEach.call(t,e)},e.v_=function(t,e){return Array.prototype.join.call(t,e)};var r=i(n(1523)),o=(i(n(6214)),i(n(4961)),i(n(7677)));function i(t){return t&&t.__esModule?t:{default:t}}},536:(t,e,n)=>{"use strict";var r=n(229);e.format=function(t,n){if("function"==typeof n)return n(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var o,i="auto";switch(void 0!==n&&(n.notation&&(i=n.notation),"number"==typeof n?o=n:n.precision&&(o=n.precision)),i){case"fixed":return e.toFixed(t,o);case"exponential":return e.toExponential(t,o);case"engineering":return e.toEngineering(t,o);case"auto":if(n&&n.exponential&&(void 0!==n.exponential.lower||void 0!==n.exponential.upper)){var a=r.map(n,(function(t){return t}));return a.exponential=void 0,void 0!==n.exponential.lower&&(a.lowerExp=Math.round(Math.log(n.exponential.lower)/Math.LN10)),void 0!==n.exponential.upper&&(a.upperExp=Math.round(Math.log(n.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(n)+" with "+JSON.stringify(a)),e.format(t,a)}var s=n&&void 0!==n.lowerExp?n.lowerExp:-3,u=n&&void 0!==n.upperExp?n.upperExp:5;if(t.isZero())return"0";var c=t.e;return(c>=s&&c<u?t.toSignificantDigits(o).toFixed():e.toExponential(t,o)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},e.toEngineering=function(t,e){var n=t.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,o=t.mul(Math.pow(10,-r)),i=o.toPrecision(e);return-1!==i.indexOf("e")&&(i=o.toString()),i+"e"+(n>=0?"+":"")+r.toString()},e.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},e.toFixed=function(t,e){return t.toFixed(e)}},6846:t=>{"use strict";t.exports=function(t){return t&&t.constructor.prototype.isBigNumber||!1}},5309:t=>{"use strict";t.exports=function t(e,n,r){return e&&"function"==typeof e.map?e.map((function(e){return t(e,n,r)})):n(e)}},8885:t=>{"use strict";t.exports=function(t){return t&&t.constructor.prototype.isMatrix||!1}},8735:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=n(229).hasOwnProperty;function i(t,e){return!(!t||"object"!==r(t)||!o(u,e)&&(e in Object.prototype||e in Function.prototype))}function a(t,e){return!(!t||"function"!=typeof t[e]||o(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)||!o(c,e)&&(e in Object.prototype||e in Function.prototype))}function s(t){return"object"===r(t)&&t&&t.constructor===Object}var u={length:!0,name:!0},c={toString:!0,valueOf:!0,toLocaleString:!0};e.YF=function(t,e){if(s(t)&&i(t,e))return t[e];if("function"==typeof t[e]&&a(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')},e.nI=function(t,e,n){if(s(t)&&i(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')},e.pp=i,e.np=function(t,e){if(!a(t,e))throw new Error('No access to method "'+e+'"')},e.OJ=a},9084:(t,e,n)=>{"use strict";var r=n(4279);e.mixin=function(t){var e=new r;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}},7917:(t,e,n)=>{"use strict";var r=n(7928);e.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},e.operators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},e.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var o={deg:"^\\circ"};e.escape=function(t){return r(t,{preserveFormatting:!0})},e.toSymbol=function(t,n){return(n=void 0!==n&&n)?o.hasOwnProperty(t)?o[t]:"\\mathrm{"+e.escape(t)+"}":e.symbols.hasOwnProperty(t)?e.symbols[t]:e.escape(t)}},1523:(t,e,n)=>{"use strict";var r=n(229);function o(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}e.isNumber=function(t){return"number"==typeof t},e.isInteger=function(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)},e.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},e.format=function(t,n){if("function"==typeof n)return n(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var o,i="auto";switch(n&&(n.notation&&(i=n.notation),e.isNumber(n)?o=n:e.isNumber(n.precision)&&(o=n.precision)),i){case"fixed":return e.toFixed(t,o);case"exponential":return e.toExponential(t,o);case"engineering":return e.toEngineering(t,o);case"auto":if(n&&n.exponential&&(void 0!==n.exponential.lower||void 0!==n.exponential.upper)){var a=r.map(n,(function(t){return t}));return a.exponential=void 0,void 0!==n.exponential.lower&&(a.lowerExp=Math.round(Math.log(n.exponential.lower)/Math.LN10)),void 0!==n.exponential.upper&&(a.upperExp=Math.round(Math.log(n.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(n)+" with "+JSON.stringify(a)),e.toPrecision(t,o,a)}return e.toPrecision(t,o,n&&n).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},e.splitNumber=function(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],o=parseFloat(e[4]||"0"),i=r.indexOf(".");o+=-1!==i?i-1:r.length-1;var a=r.replace(".","").replace(/^0*/,(function(t){return o-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),o++),{sign:n,coefficients:a,exponent:o}},e.toEngineering=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var r=e.roundDigits(e.splitNumber(t),n),o=r.exponent,i=r.coefficients,a=o%3==0?o:o<0?o-3-o%3:o-o%3;if(e.isNumber(n))for(;n>i.length||o-a+1>i.length;)i.push(0);else for(var s=o>=0?o:Math.abs(a);i.length-1<s;)i.push(0);for(var u=Math.abs(o-a),c=1;u>0;)c++,u--;var p=i.slice(c).join(""),f=e.isNumber(n)&&p.length||p.match(/[1-9]/)?"."+p:"",h=i.slice(0,c).join("")+f+"e"+(o>=0?"+":"")+a.toString();return r.sign+h},e.toFixed=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var r=e.splitNumber(t),i="number"==typeof n?e.roundDigits(r,r.exponent+1+n):r,a=i.coefficients,s=i.exponent+1,u=s+(n||0);return a.length<u&&(a=a.concat(o(u-a.length))),s<0&&(a=o(1-s).concat(a),s=1),s<a.length&&a.splice(s,0,0===s?"0.":"."),i.sign+a.join("")},e.toExponential=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var r=e.splitNumber(t),i=n?e.roundDigits(r,n):r,a=i.coefficients,s=i.exponent;a.length<n&&(a=a.concat(o(n-a.length)));var u=a.shift();return i.sign+u+(a.length>0?"."+a.join(""):"")+"e"+(s>=0?"+":"")+s},e.toPrecision=function(t,n,r){if(isNaN(t)||!isFinite(t))return String(t);var i=r&&void 0!==r.lowerExp?r.lowerExp:-3,a=r&&void 0!==r.upperExp?r.upperExp:5,s=e.splitNumber(t);if(s.exponent<i||s.exponent>=a)return e.toExponential(t,n);var u=n?e.roundDigits(s,n):s,c=u.coefficients,p=u.exponent;c.length<n&&(c=c.concat(o(n-c.length))),c=c.concat(o(p-c.length+1+(c.length<n?n-c.length:0)));var f=p>0?p:0;return f<(c=o(-p).concat(c)).length-1&&c.splice(f+1,0,"."),u.sign+c.join("")},e.roundDigits=function(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var o=e-1;for(r[o]++;10===r[o];)r.pop(),0===o&&(r.unshift(0),n.exponent++,o++),r[--o]++}return n},e.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},e.DBL_EPSILON=Number.EPSILON||2220446049250313e-31,e.nearlyEqual=function(t,n,r){if(null==r)return t===n;if(t===n)return!0;if(isNaN(t)||isNaN(n))return!1;if(isFinite(t)&&isFinite(n)){var o=Math.abs(t-n);return o<e.DBL_EPSILON||o<=Math.max(Math.abs(t),Math.abs(n))*r}return!1}},229:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=n(6846);e.clone=function t(n){var i=r(n);if("number"===i||"string"===i||"boolean"===i||null==n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map((function(e){return t(e)}));if(n instanceof Date)return new Date(n.valueOf());if(o(n))return n;if(n instanceof RegExp)throw new TypeError("Cannot clone "+n);return e.map(n,t)},e.map=function(t,n){var r={};for(var o in t)e.hasOwnProperty(t,o)&&(r[o]=n(t[o]));return r},e.extend=function(t,n){for(var r in n)e.hasOwnProperty(n,r)&&(t[r]=n[r]);return t},e.deepExtend=function t(n,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var o in r)if(e.hasOwnProperty(r,o))if(r[o]&&r[o].constructor===Object)void 0===n[o]&&(n[o]={}),n[o].constructor===Object?t(n[o],r[o]):n[o]=r[o];else{if(Array.isArray(r[o]))throw new TypeError("Arrays are not supported by deepExtend");n[o]=r[o]}return n},e.deepEqual=function(t,n){var r,o,i;if(Array.isArray(t)){if(!Array.isArray(n))return!1;if(t.length!==n.length)return!1;for(o=0,i=t.length;o<i;o++)if(!e.deepEqual(t[o],n[o]))return!1;return!0}if(t instanceof Object){if(Array.isArray(n)||!(n instanceof Object))return!1;for(r in t)if(!e.deepEqual(t[r],n[r]))return!1;for(r in n)if(!e.deepEqual(t[r],n[r]))return!1;return!0}return t===n},e.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},e.lazy=function(t,n,r){if(e.canDefineProperty()){var o,i=!0;Object.defineProperty(t,n,{get:function(){return i&&(o=r(),i=!1),o},set:function(t){o=t,i=!1},configurable:!0,enumerable:!0})}else t[n]=r()},e.traverse=function(t,e){var n=t;if(e)for(var r=e.split("."),o=0;o<r.length;o++){var i=r[o];i in n||(n[i]={}),n=n[i]}return n},e.hasOwnProperty=function(t,e){return t&&Object.hasOwnProperty.call(t,e)},e.isFactory=function(t){return t&&"function"==typeof t.factory}},7237:()=>{"use strict";Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isNaN=Number.isNaN||function(t){return t!=t}},6214:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=n(1523).format,i=n(536).format,a=n(6846);function s(t,n){if(Array.isArray(t)){for(var r="[",o=t.length,i=0;i<o;i++)0!==i&&(r+=", "),r+=s(t[i],n);return r+"]"}return e.format(t,n)}e.isString=function(t){return"string"==typeof t},e.endsWith=function(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e},e.format=function(t,n){if("number"==typeof t)return o(t,n);if(a(t))return i(t,n);if(function(t){return t&&"object"===r(t)&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t))return n&&"decimal"===n.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return s(t,n);if(e.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"===r(t)){if("function"==typeof t.format)return t.format(n);if(t&&t.toString()!=={}.toString())return t.toString();var u=[];for(var c in t)t.hasOwnProperty(c)&&u.push('"'+c+'": '+e.format(t[c],n));return"{"+u.join(", ")+"}"}return String(t)},e.stringify=function(t){for(var e=String(t),n="",r=0;r<e.length;){var o=e.charAt(r);"\\"===o?(n+=o,r++,""!==(o=e.charAt(r))&&-1!=='"\\/bfnrtu'.indexOf(o)||(n+="\\"),n+=o):n+='"'===o?'\\"':o,r++}return'"'+n+'"'},e.escape=function(t){var e=String(t);return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},4279:t=>{function e(){}e.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function o(){r.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,a=r.length;i<a;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}},t.exports=e,t.exports.TinyEmitter=e},2287:function(t,e){"use strict";var n,r;n=function(){function t(){return!0}function e(){return!1}function n(){}return function r(){var o=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],i={name:"any",test:t},a=[],s=[],u={types:o,conversions:s,ignore:a};function c(t){var e=H(u.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return i;var n=H(u.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function p(t){return t===i?999:u.types.indexOf(t)}function f(t){var e=H(u.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function h(t){return t.map((function(t){var e=t.types.map(w);return(t.restParam?"...":"")+e.join("|")})).join(",")}function l(t,e){var n=0===t.indexOf("..."),r=(n?t.length>3?t.slice(3):"any":t).split("|").map(M).filter(F).filter(C),o=function(t,e){var n={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||n[t.from]||(n[t.from]=t)})),Object.keys(n).map((function(t){return n[t]}))}(e,r),i=r.map((function(t){var e=c(t);return{name:t,typeIndex:p(e),test:e.test,conversion:null,conversionIndex:-1}})),a=o.map((function(t){var n=c(t.from);return{name:t.from,typeIndex:p(n),test:n.test,conversion:t,conversionIndex:e.indexOf(t)}}));return{types:i.concat(a),restParam:n}}function m(t){var e=D(t);return!!e&&e.restParam}function d(t){return t.types.some((function(t){return null!=t.conversion}))}function y(e){if(e&&0!==e.types.length){if(1===e.types.length)return c(e.types[0].name).test;if(2===e.types.length){var n=c(e.types[0].name).test,r=c(e.types[1].name).test;return function(t){return n(t)||r(t)}}var o=e.types.map((function(t){return c(t.name).test}));return function(t){for(var e=0;e<o.length;e++)if(o[e](t))return!0;return!1}}return t}function g(t){var e,n,r,o;if(m(t)){var i=(e=(o=t,o.slice(0,o.length-1)).map(y)).length,a=y(D(t));return function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return function(t){for(var e=i;e<t.length;e++)if(!a(t[e]))return!1;return!0}(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=y(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=y(t[0]),r=y(t[1]),function(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(y),function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function v(t,e){return e<t.params.length?t.params[e]:m(t.params)?D(t.params):null}function b(t,e,n){var r=v(t,e);return(r?n?r.types.filter(x):r.types:[]).map(w)}function w(t){return t.name}function x(t){return null===t.conversion||void 0===t.conversion}function N(t,e){var n=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return Object.keys(e)}(R(t,(function(t){return b(t,e,!1)})));return-1!==n.indexOf("any")?["any"]:n}function O(t,e,n){var r,o,i,a=t||"unnamed",s=n;for(i=0;i<e.length;i++){var u=s.filter((function(t){var n=y(v(t,i));return(i<t.params.length||m(t.params))&&n(e[i])}));if(0===u.length){if((o=N(s,i)).length>0){var c=f(e[i]);return(r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+o.join(" or ")+", actual: "+c+", index: "+i+")")).data={category:"wrongType",fn:a,index:i,actual:c,expected:o},r}}else s=u}var p=s.map((function(t){return m(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,p))return o=N(s,i),(r=new TypeError("Too few arguments in function "+a+" (expected: "+o.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:o},r;var h=Math.max.apply(null,p);return e.length>h?((r=new TypeError("Too many arguments in function "+a+" (expected: "+h+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:h},r):((r=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(f)},r)}function S(t){for(var e=999,n=0;n<t.types.length;n++)x(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function E(t){for(var e=999,n=0;n<t.types.length;n++)x(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function k(t,e){var n;return 0!=(n=t.restParam-e.restParam)||0!=(n=d(t)-d(e))||0!=(n=S(t)-S(e))?n:E(t)-E(e)}function T(t,e){var n,r,o=Math.min(t.params.length,e.params.length);if(0!=(r=t.params.some(d)-e.params.some(d)))return r;for(n=0;n<o;n++)if(0!=(r=d(t.params[n])-d(e.params[n])))return r;for(n=0;n<o;n++)if(0!==(r=k(t.params[n],e.params[n])))return r;return t.params.length-e.params.length}function j(t){var e,n,r,o,i=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(i.push(c(t.conversion.from).test),a.push(t.conversion.convert))})),a.length){case 0:return function(t){return t};case 1:return e=i[0],r=a[0],function(t){return e(t)?r(t):t};case 2:return e=i[0],n=i[1],r=a[0],o=a[1],function(t){return e(t)?r(t):n(t)?o(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(i[e](t))return a[e](t);return t}}}function A(t,e){return function t(n,r,o){if(r<n.length){var i,a=n[r],s=e?a.types.filter(x):a.types;if(a.restParam){var u=s.filter(x);i=u.length<s.length?[u,s]:[s]}else i=s.map((function(t){return[t]}));return R(i,(function(e){return t(n,r+1,o.concat([e]))}))}return[o.map((function(t,e){return{types:t,restParam:e===n.length-1&&m(n)}}))]}(t,0,[])}function P(t,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var o=[];Object.keys(r).map((function(t){return function(t,e,n){var r=[];return""!==t.trim()&&(r=t.split(",").map(M).map((function(t,e,r){var o=l(t,n);if(o.restParam&&e!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return o}))),r.some(_)?null:{params:r,fn:e}}(t,r[t],u.conversions)})).filter(I).forEach((function(t){var e=H(o,(function(e){return function(t,e){for(var n=Math.max(t.params.length,e.params.length),r=0;r<n;r++)if(!B(b(t,r,!0),b(e,r,!0)))return!1;var o=t.params.length,i=e.params.length,a=m(t.params),s=m(e.params);return a?s?o===i:i>=o:s?o>=i:o===i}(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+h(e.params)+'" and "'+h(t.params)+'".');o.push(t)}));var i=R(o,(function(t){return(t?A(t.params,!1):[]).map((function(e){return{params:e,fn:t.fn}}))})).filter(I);i.sort(T);var a=i[0]&&i[0].params.length<=2&&!m(i[0].params),s=i[1]&&i[1].params.length<=2&&!m(i[1].params),c=i[2]&&i[2].params.length<=2&&!m(i[2].params),p=i[3]&&i[3].params.length<=2&&!m(i[3].params),f=i[4]&&i[4].params.length<=2&&!m(i[4].params),v=i[5]&&i[5].params.length<=2&&!m(i[5].params),w=a&&s&&c&&p&&f&&v,x=i.map((function(t){return g(t.params)})),N=a?y(i[0].params[0]):e,S=s?y(i[1].params[0]):e,E=c?y(i[2].params[0]):e,k=p?y(i[3].params[0]):e,P=f?y(i[4].params[0]):e,C=v?y(i[5].params[0]):e,F=a?y(i[0].params[1]):e,D=s?y(i[1].params[1]):e,W=c?y(i[2].params[1]):e,q=p?y(i[3].params[1]):e,J=f?y(i[4].params[1]):e,U=v?y(i[5].params[1]):e,$=i.map((function(t){return function(t,e){var n=e;if(t.some(d)){var r=m(t),o=t.map(j);n=function(){for(var t=[],n=r?arguments.length-1:arguments.length,i=0;i<n;i++)t[i]=o[i](arguments[i]);return r&&(t[n]=arguments[n].map(o[n])),e.apply(null,t)}}var i=n;if(m(t)){var a=t.length-1;i=function(){return n.apply(null,L(arguments,0,a).concat([L(arguments,a)]))}}return i}(t.params,t.fn)})),z=a?$[0]:n,V=s?$[1]:n,Y=c?$[2]:n,X=p?$[3]:n,Z=f?$[4]:n,G=v?$[5]:n,K=a?i[0].params.length:-1,Q=s?i[1].params.length:-1,tt=c?i[2].params.length:-1,et=p?i[3].params.length:-1,nt=f?i[4].params.length:-1,rt=v?i[5].params.length:-1,ot=w?6:0,it=i.length,at=function(){for(var e=ot;e<it;e++)if(x[e](arguments))return $[e].apply(null,arguments);throw O(t,arguments,i)},st=function(t,e){return arguments.length===K&&N(t)&&F(e)?z.apply(null,arguments):arguments.length===Q&&S(t)&&D(e)?V.apply(null,arguments):arguments.length===tt&&E(t)&&W(e)?Y.apply(null,arguments):arguments.length===et&&k(t)&&q(e)?X.apply(null,arguments):arguments.length===nt&&P(t)&&J(e)?Z.apply(null,arguments):arguments.length===rt&&C(t)&&U(e)?G.apply(null,arguments):at.apply(null,arguments)};try{Object.defineProperty(st,"name",{value:t})}catch(t){}return st.signatures=function(t){var e={};return t.forEach((function(t){t.params.some(d)||A(t.params,!0).forEach((function(n){e[h(n)]=t.fn}))})),e}(i),st}function C(t){return-1===u.ignore.indexOf(t)}function M(t){return t.trim()}function F(t){return!!t}function I(t){return null!==t}function _(t){return 0===t.types.length}function D(t){return t[t.length-1]}function L(t,e,n){return Array.prototype.slice.call(t,e,n)}function B(t,e){for(var n=0;n<t.length;n++)if(r=e,o=t[n],-1!==r.indexOf(o))return!0;var r,o;return!1}function H(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function R(t,e){return Array.prototype.concat.apply([],t.map(e))}function W(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(("object"==typeof r.signatures||"string"==typeof r.signature)&&""!==r.name)if(""===e)e=r.name;else if(e!==r.name){var o=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw o.data={actual:r.name,expected:e},o}}return e}function q(t){var e,n={};function r(t,r){if(n.hasOwnProperty(t)&&r!==n[t])throw(e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var o=0;o<t.length;o++){var i=t[o];if("object"==typeof i.signatures)for(var a in i.signatures)i.signatures.hasOwnProperty(a)&&(r(a,i.signatures[a]),n[a]=i.signatures[a]);else{if("string"!=typeof i.signature)throw(e=new TypeError("Function is no typed-function (index: "+o+")")).data={index:o},e;r(i.signature,i),n[i.signature]=i}}return n}return(u=P("typed",{"string, Object":P,Object:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return P(W(e),t)},"...Function":function(t){return P(W(t),q(t))},"string, ...Function":function(t,e){return P(t,q(e))}})).create=r,u.types=o,u.conversions=s,u.ignore=a,u.convert=function(t,e){var n=f(t);if(e===n)return t;for(var r=0;r<u.conversions.length;r++){var o=u.conversions[r];if(o.from===n&&o.to===e)return o.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)},u.find=function(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var o=n.join(","),i=t.signatures[o];if(i)return i;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")},u.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var n=0;n<u.types.length;n++)if("Object"===u.types[n].name)return void u.types.splice(n,0,t);u.types.push(t)},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t)},u}()},void 0===(r=n.apply(e,[]))||(t.exports=r)}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t,e=document.querySelector(".screen .expressions"),r=document.querySelector(".screen .indicators"),o=document.querySelector(".screen .ans"),i=document.querySelector(".operationContainer"),a=document.querySelector(".onBtn"),s=document.querySelector(".sec-btn"),u=document.querySelector(".alphaBtn");function c(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const f=[].concat(c(function(){for(var t=[],e=0;e<10;e++)t.push({name:"".concat(e),func:"".concat(e)});return t}()),c((t=[],["A","B","C","D","E","F","X","Y","M"].forEach((function(e){t.push({name:e,func:e})})),t)),[{name:"·",func:"."},{name:"±",func:"±"},{name:"(",func:"("},{name:")",func:")"},{name:"×",func:" × "},{name:"÷",func:" ÷ "},{name:"+",func:" + "},{name:"−",func:" − "},{name:"=",func:"="},{name:"sin",func:"sin()"},{name:"tan",func:"tan()"},{name:"cos",func:"cos()"},{name:"√",func:"√()"},{name:"←",func:"←"},{name:"→",func:"→"},{name:"log",func:"log10()"},{name:"π",func:"π"},{name:"ln",func:"ln()"},{name:"DEL",func:"del"},{name:"x<sup>2</sup>",func:"^(2)"},{name:"cos⁻¹",func:"cos⁻¹()"},{name:"sin⁻¹",func:"sin⁻¹()"},{name:"tan⁻¹",func:"tan⁻¹()"},{name:"x^-1",func:"^(-1)"},{name:"cuberoot",func:"³√()"},{name:"10^x",func:"10^()"},{name:"e^x",func:"e^()"},{name:"ANS",func:"ANS"},{name:"STO",func:"STO"}]);var h=n(7886),l=n.n(h),m=function(t,e){var n=0;t=function(t){return t.replace(/×/g,"*").replace(/÷/g,"/").replace(/−/g,"-").replace(/π/g,"(".concat(Math.PI,")")).replace(/ln\((.+)\)/g,"log($1,e)").replace(/cos⁻¹\((.+)\)/g,"acos($1)").replace(/³√\((.+)\)/g,"($1)^(1/3)").replace(/√/g,"sqrt")}(t);try{n=l().eval(t,e)}catch(t){throw new Error(t)}return n};function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){g(t,e),e.add(t)}function g(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function b(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var w=new WeakMap,x=new WeakSet,N=new WeakSet;function O(t){var n=t.indexOf("(");n>=0&&n+1<t.length&&")"===t[n+1]?(v(this,N,S).call(this,t),this.CursorPosition=e.textContent.lastIndexOf("(")+1):(v(this,N,S).call(this,t),this.CursorPosition+=t.length)}function S(t){e.textContent.includes("=>")&&this.Clear();var n=e.innerHTML,r=n.slice(0,this.CursorPosition),o=n.slice(this.CursorPosition,n.length);e.innerHTML=r+t+o,e.scrollLeft=e.scrollWidth}const E=function(){function t(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,N),y(this,x),r={writable:!0,value:void 0},g(this,n=w),n.set(this,r),this.screenWriter=e,this.screenAns=o,this.Clear()}var n,i;return n=t,i=[{key:"CursorPosition",get:function(){return function(t,e){return e.get?e.get.call(t):e.value}(this,b(this,w,"get"))},set:function(t){var n,r;!function(t,e,n){(function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}})(t,b(t,e,"set"),n)}(this,w,(n=t,0,r=e.innerHTML.length,n<0?0:n>r?r:n))}},{key:"writeToScreenANS",value:function(t){o.textContent=String(t)}},{key:"Clear",value:function(){o.textContent="",e.innerHTML="",this.CursorPosition=0}},{key:"clearIndicators",value:function(){r.innerHTML=""}},{key:"turnON",value:function(){o.textContent="0"}},{key:"del",value:function(){var t=function(t,e){if(")"===t[e-1]||")"===t[e])return{text:t,count:1};if("("===t[e]){var n=0|t.lastIndexOf(" ",e-1),r=t.indexOf(")",e),o=t.lastIndexOf("(",r);if(o=t.lastIndexOf("(",o-1),r>=0)return n=o!==e-1&&o<r?o+1:n,{text:t=t.substring(0,n)+t.substring(r+1,t.length),count:e-n}}return{text:t=t.substring(0,e)+t.substring(e+1,t.length),count:1}}(e.innerHTML,this.CursorPosition);e.innerHTML=t.text,t.count>1?(this.CursorPosition-=t.count,this.setCursor(this.CursorPosition)):(this.setCursor(this.CursorPosition),this.CursorPosition-=t.count)}},{key:"setIndicators",value:function(t){for(var e="",n=Object.keys(t),o=0;o<n.length;o++)e+="<span>".concat(t[n[o]]?n[o]:"","</span>");r.innerHTML=e.replace("secf","<b>S</b>").replace("alpha","<b>A</b>").toUpperCase()}},{key:"setAnswer",value:function(t){o.innerHTML=String(t)}},{key:"addToScreen",value:function(t){v(this,x,O).call(this,t),this.setCursor(this.CursorPosition)}},{key:"navigate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.CursorPosition+=t/Math.abs(t),this.setCursor(this.CursorPosition)}},{key:"setCursor",value:function(t){var n=e,r=document.createRange(),o=window.getSelection();r.setStart(n.childNodes[0],t),r.collapse(!0),o.removeAllRanges(),o.addRange(r),n.focus()}}],i&&d(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reset(),this.init()}var e,n;return e=t,n=[{key:"init",value:function(){var t=this;i.addEventListener("click",(function(e){t.ON&&function(t){var e=t.target,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(t,o){if("BUTTON"==e.tagName){var i=f.find((function(t){return n?e.dataset.sec===t.name:r?e.dataset.ter===t.name:t.name===e.innerHTML}));i&&t(i.func)}}))}(e,t.SecF,t.Alpha).then((function(e){t.processBtnData(e)})).finally((function(){t.screen.screenWriter.focus();var n=e.target;n.classList.contains("sec-btn")||n.classList.contains("alphaBtn")||n.classList.contains("stoBtn")||(t.SecF=!1,t.Alpha=!1,t.STO=!1,t.setScreenIndicators())}))})),a.addEventListener("click",(function(){t.ON&&t.SecF?t.toggleOn():t.ON&&!1===t.SecF?t.clearScreen():(t.setScreenIndicators(),t.toggleOn())})),s.addEventListener("click",(function(){t.ON&&t.toggleSecF()})),u.addEventListener("click",(function(){t.ON&&t.toggleAlpha()}))}},{key:"processBtnData",value:function(t){switch(t){case"=":if(this.screen.screenWriter.textContent.includes("=>")||""===this.screen.screenWriter.textContent.trim())return;var e=this.screen.screenWriter.textContent;try{var n={A:this.A,B:this.B,C:this.C,D:this.D,E:this.E,F:this.F,X:this.X,Y:this.Y,ANS:this.ANS},r=m(e,n);this.ANS=r,this.screen.writeToScreenANS(r),this.screen.screenWriter.innerHTML=""}catch(t){this.screen.writeToScreenANS("error"),console.log(t)}break;case"←":this.screen.navigate(-1);break;case"→":this.screen.navigate(1);break;case"del":this.screen.del();break;case"STO":this.toggleSTO();break;default:this.processVariableData(t)||this.screen.addToScreen(t)}}},{key:"reset",value:function(){this.A=0,this.B=0,this.C=0,this.D=0,this.E=0,this.F=0,this.X=0,this.Y=0,this.ANS=0,this.history=[],this.ON=!1,this.SecF=!1,this.Alpha=!1,this.STO=!1,this.isRad=!0,this.screen=new E}},{key:"toggleOn",value:function(){this.ON=!this.ON,this.ON?this.screen.turnON():(this.screen.clearIndicators(),this.reset())}},{key:"clearScreen",value:function(){!1===this.SecF&&this.ON&&(this.screen.Clear(),this.screen.turnON())}},{key:"toggleSecF",value:function(){this.SecF=!this.SecF,this.SecF&&(this.Alpha=!1),this.setScreenIndicators()}},{key:"toggleSTO",value:function(){this.STO=!this.STO,this.setScreenIndicators()}},{key:"setScreenIndicators",value:function(){this.screen.setIndicators({secf:this.SecF,alpha:this.Alpha,STO:this.STO,rad:this.isRad})}},{key:"processVariableData",value:function(t){return!!["A","B","C","D","E","F","X","Y","M"].find((function(e){return e===t}))&&this.storeVariable(t)}},{key:"storeVariable",value:function(t){var e=""!==this.screen.screenWriter.innerHTML&&1===this.screen.screenWriter.innerHTML.split(" ").length,n=0;if(!this.STO)return!1;if(console.log(this.screen.screenWriter.innerHTML,this.screen.screenAns.innerHTML),e)n=m(this.screen.screenWriter.innerHTML,{});else{if(""===this.screen.screenAns.textContent)return!1;n=m(this.screen.screenAns.innerHTML,{})}return this[t]=0|n,this.screen.Clear(),this.screen.addToScreen("".concat(0|n,"=>").concat(t)),!0}},{key:"toggleAlpha",value:function(){this.Alpha=!this.Alpha,this.Alpha&&(this.SecF=!1),this.setScreenIndicators()}}],n&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}())})()})();